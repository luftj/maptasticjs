{"version":3,"sources":["maptastic.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length","module","global","numeric","version","bench","interval","t1","t2","Date","_myIndexOf","w","k","myIndexOf","Array","prototype","indexOf","Function","precision","largeArray","prettyPrint","x","fmtnum","isNaN","isFinite","scale","Math","floor","log","normalized","pow","basic","toPrecision","parseFloat","toString","ret","foo","push","join","b","c","d","flag","hasOwnProperty","parseDate","parse","replace","parseFloat_","parseCSV","split","j","pat","patnum","stripper","substr","count","bar","match","baz","test","toCSV","A","dim","m","row","getURL","url","client","XMLHttpRequest","open","send","imageURL","img","base64","y","z","p","q","key","charAt","crc32Array","from","to","table","crc","h","s1","s2","next","adler32","crc32","stream","round","_dim","mapreduce","body","init","mapreduce2","setup","same","rep","v","dotMMsmall","woo","i0","k0","p0","r0","_getCol","dotMMbig","gc","xj","VV","dotVV","dotMV","dotVM","s3","accum","i1","dot","mulVS","mulSV","diag","Ai","getDiag","min","identity","pointwise","params","fun","avec","thevec","haveret","substring","apply","pointwise2","_biforeach","_biforeach2","_foreach","_foreach2","ops2","add","sub","mul","div","mod","and","or","eq","neq","lt","gt","leq","geq","band","bor","bxor","lshift","rshift","rrshift","opseq","addeq","subeq","muleq","diveq","modeq","lshifteq","rshifteq","rrshifteq","bandeq","boreq","bxoreq","mathfuns","mathfuns2","ops1","neg","not","bnot","clone","mapreducers","any","all","sum","prod","norm2Squared","norminf","norm1","sup","inf","codeeq","truncVV","truncVS","truncSV","trunc","inv","abs","Aj","I","Ii","Ij","v0","det","alpha","temp","k1","k2","k3","transpose","A0","A1","Bj","negtranspose","_random","rnd","random","norm2","sqrt","linspace","max","getBlock","setBlock","B","getRange","J","Bi","AI","blockMatrix","X","M","N","Xij","Z","ZI","Xijk","tensor","xi","T","Tbinop","rr","rc","cr","cc","io","reciprocal","transjugate","Tunop","exp","conj","sin","cos","Rx","Ry","Ax","Ay","Aix","Aiy","Ajx","Ajy","Rix","Riy","Rjx","Rjy","d1","ax","ay","bx","by","get","ik","set","vx","vy","undefined","getRows","rx","ry","setRows","getRow","setRow","eig","house","toUpperHessenberg","me","C","Ci","Q","Qi","H","epsilon","QRFrancis","maxiter","H0","tr","Hloc","Hi","iter","QH1","QH2","concat","QH","QB","Q0","p1","p2","disc","n1","n2","R","E","Rk","Rj","lambda","ccsSparse","counts","parseInt","Av","ccsFull","ccsDim","j0","j1","ccsTSolve","bj","dfs","l0","l1","ccsDFS","Pinv","km","k11","ccsLPSolve","Bv","ccsLUP1","threshold","L","U","Li","Lj","Lv","Ui","Uj","Uv","K","sol","P","ccsDFS0","ccsLPSolve0","ccsLUP0","ccsLUP","ccsGetBlock","jq","ip","flags","q0","q1","ccsDot","sA","sB","Cj","Cv","ccsLUPSolve","LUP","Xi","Xj","Xv","ccsbinop","eval","ccsScatter","Ri","Rv","ptr","slice","Aii","ccsGather","sdim","sclone","sdiag","i2","i3","sidentity","stranspose","sLUP","tol","sdotMM","dotMM","BT","BTk","reti","sdotMV","sdotVM","sdotVV","sdot","sscatter","scatter","V","Vij","sgather","gather","pop","cLU","LU","left","Infinity","right","countL","countU","cLUsolve","LUsolve","lu","cgrid","grid","shape","cdelsq","delsq","g","dir","cdotMV","Spline","yl","yr","kl","kr","_at","x1","at","x0","mid","diff","dx","dy","zl","zr","pl","pr","roots","sqr","heval","y0","y1","ai","bi","ci","di","ri","D","cx","stops","z0","z1","zm","t0","tm","side","spline","kn","fftpow2","xe","ye","xo","yo","si","_ifftpow2","ifftpow2","convpow2","axi","bxi","ayi","byi","fft","log2","ceil","cy","nhalf","Y","ifft","gradient","f0","f1","f2","errest","roundoff","eps","it","d2","uncmin","maxit","callback","options","grad","df0","step","g0","g1","H1","Hinv","ten","isfinite","Hy","Hs","ys","nstep","msg","solution","invHessian","iterations","message","Dopri","ymid","events","xs","xh","yh","dopri","event","k4","k5","k6","k7","A2","A3","A4","A5","A6","bm","er","erinf","e0","e1","ev","yi","xl","xr","xc","yc","en","ei","sl","sr","fast","absAjk","Akk","Ak","Pk","Pi","LUi","LUii","tmp","solve","echelonize","__solveLP","unbounded","cb","AT","svd","norm","dotcc","a1","Ag","_solveLP","c0","b0","NaN","solveLP","Aeq","beq","Aeq2","b4","c1","c2","c4","S","x2","MPStoLP","MPS","String","state","states","rows","sign","rl","vars","nv","name","err","w0","seedrandom","pool","math","width","chunks","significance","overflow","startdenom","seed","use_entropy","arc4","mixkey","flatten","arguments","getTime","window","ARC4","keylen","lowbits","getnext","obj","depth","result","prop","typ","smear","charCodeAt","fromCharCode","base0to1","base1to0","dpori","lda","kp1","dposl","kb","dpofa","info","jm1","qpgen2","dmat","dvec","fddmat","crval","amat","bvec","fdamat","meq","iact","nact","work","ierr","it1","iwzv","iwrv","iwrm","iwsv","iwuv","nvl","iwnbv","tt","gs","nu","t1inf","t2min","vsmall","tmpa","tmpb","go","fn_goto_50","fn_goto_55","fn_goto_797","fn_goto_798","fn_goto_799","solveQP","Dmat","Amat","factorized","value","unconstrained_solution","prec","tolerance","itmax","pythag","iteration","test_convergence","self","Maptastic","config","getProp","cfg","defaultVal","showLayerNames","showCrosshairs","showScreenBounds","autoSave","autoLoad","layerList","layoutChangeListener","localStorageKey","canvas","context","layers","configActive","dragging","dragOffset","selectedLayer","selectedPoint","selectionRadius","hoveringPoint","hoveringLayer","dragOperation","isLayerSoloed","mousePosition","mouseDelta","mouseDownPoint","distanceTo","y2","pointInTriangle","point","pointInLayer","layer","targetPoints","notifyChangeListener","draw","strokeStyle","lineWidth","clearRect","height","visible","element","style","visibility","beginPath","moveTo","lineTo","closePath","stroke","centerPoint","arc","PI","label","id","toUpperCase","font","textAlign","metrics","measureText","size","fillStyle","fillRect","fillText","stepX","stepY","strokeRect","fontSize","swapLayerPoints","layerPoints","index1","index2","tx","ty","document","createElement","display","position","top","zIndex","getContext","appendChild","addEventListener","resize","mouseMove","mouseUp","mouseDown","keyDown","rotateLayer","angle","px","py","scaleLayer","keyCode","shiftKey","setConfigEnabled","increment","dirty","delta","sourcePoints","updateTransform","altKey","saveSettings","preventDefault","clientX","clientY","cursor","mouseX","mouseY","previousState","previousLayer","addLayer","target","getElementById","HTMLElement","exists","clonePoints","layout","offsetX","offsetLeft","offsetY","offsetTop","padding","margin","clientWidth","clientHeight","localStorage","setItem","JSON","stringify","getLayout","loadSettings","getItem","data","transform","reduce","matrix","enabled","points","innerWidth","innerHeight","setLayout","console","define","amd"],"mappings":"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","file":"maptastic.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n(function (global){\n\"use strict\";\n\nvar numeric = (typeof exports === \"undefined\")?(function numeric() {}):(exports);\nif(typeof global !== \"undefined\") { global.numeric = numeric; }\n\nnumeric.version = \"1.2.6\";\n\n// 1. Utility functions\nnumeric.bench = function bench (f,interval) {\n    var t1,t2,n,i;\n    if(typeof interval === \"undefined\") { interval = 15; }\n    n = 0.5;\n    t1 = new Date();\n    while(1) {\n        n*=2;\n        for(i=n;i>3;i-=4) { f(); f(); f(); f(); }\n        while(i>0) { f(); i--; }\n        t2 = new Date();\n        if(t2-t1 > interval) break;\n    }\n    for(i=n;i>3;i-=4) { f(); f(); f(); f(); }\n    while(i>0) { f(); i--; }\n    t2 = new Date();\n    return 1000*(3*n-1)/(t2-t1);\n}\n\nnumeric._myIndexOf = (function _myIndexOf(w) {\n    var n = this.length,k;\n    for(k=0;k<n;++k) if(this[k]===w) return k;\n    return -1;\n});\nnumeric.myIndexOf = (Array.prototype.indexOf)?Array.prototype.indexOf:numeric._myIndexOf;\n\nnumeric.Function = Function;\nnumeric.precision = 4;\nnumeric.largeArray = 50;\n\nnumeric.prettyPrint = function prettyPrint(x) {\n    function fmtnum(x) {\n        if(x === 0) { return '0'; }\n        if(isNaN(x)) { return 'NaN'; }\n        if(x<0) { return '-'+fmtnum(-x); }\n        if(isFinite(x)) {\n            var scale = Math.floor(Math.log(x) / Math.log(10));\n            var normalized = x / Math.pow(10,scale);\n            var basic = normalized.toPrecision(numeric.precision);\n            if(parseFloat(basic) === 10) { scale++; normalized = 1; basic = normalized.toPrecision(numeric.precision); }\n            return parseFloat(basic).toString()+'e'+scale.toString();\n        }\n        return 'Infinity';\n    }\n    var ret = [];\n    function foo(x) {\n        var k;\n        if(typeof x === \"undefined\") { ret.push(Array(numeric.precision+8).join(' ')); return false; }\n        if(typeof x === \"string\") { ret.push('\"'+x+'\"'); return false; }\n        if(typeof x === \"boolean\") { ret.push(x.toString()); return false; }\n        if(typeof x === \"number\") {\n            var a = fmtnum(x);\n            var b = x.toPrecision(numeric.precision);\n            var c = parseFloat(x.toString()).toString();\n            var d = [a,b,c,parseFloat(b).toString(),parseFloat(c).toString()];\n            for(k=1;k<d.length;k++) { if(d[k].length < a.length) a = d[k]; }\n            ret.push(Array(numeric.precision+8-a.length).join(' ')+a);\n            return false;\n        }\n        if(x === null) { ret.push(\"null\"); return false; }\n        if(typeof x === \"function\") { \n            ret.push(x.toString());\n            var flag = false;\n            for(k in x) { if(x.hasOwnProperty(k)) { \n                if(flag) ret.push(',\\n');\n                else ret.push('\\n{');\n                flag = true; \n                ret.push(k); \n                ret.push(': \\n'); \n                foo(x[k]); \n            } }\n            if(flag) ret.push('}\\n');\n            return true;\n        }\n        if(x instanceof Array) {\n            if(x.length > numeric.largeArray) { ret.push('...Large Array...'); return true; }\n            var flag = false;\n            ret.push('[');\n            for(k=0;k<x.length;k++) { if(k>0) { ret.push(','); if(flag) ret.push('\\n '); } flag = foo(x[k]); }\n            ret.push(']');\n            return true;\n        }\n        ret.push('{');\n        var flag = false;\n        for(k in x) { if(x.hasOwnProperty(k)) { if(flag) ret.push(',\\n'); flag = true; ret.push(k); ret.push(': \\n'); foo(x[k]); } }\n        ret.push('}');\n        return true;\n    }\n    foo(x);\n    return ret.join('');\n}\n\nnumeric.parseDate = function parseDate(d) {\n    function foo(d) {\n        if(typeof d === 'string') { return Date.parse(d.replace(/-/g,'/')); }\n        if(!(d instanceof Array)) { throw new Error(\"parseDate: parameter must be arrays of strings\"); }\n        var ret = [],k;\n        for(k=0;k<d.length;k++) { ret[k] = foo(d[k]); }\n        return ret;\n    }\n    return foo(d);\n}\n\nnumeric.parseFloat = function parseFloat_(d) {\n    function foo(d) {\n        if(typeof d === 'string') { return parseFloat(d); }\n        if(!(d instanceof Array)) { throw new Error(\"parseFloat: parameter must be arrays of strings\"); }\n        var ret = [],k;\n        for(k=0;k<d.length;k++) { ret[k] = foo(d[k]); }\n        return ret;\n    }\n    return foo(d);\n}\n\nnumeric.parseCSV = function parseCSV(t) {\n    var foo = t.split('\\n');\n    var j,k;\n    var ret = [];\n    var pat = /(([^'\",]*)|('[^']*')|(\"[^\"]*\")),/g;\n    var patnum = /^\\s*(([+-]?[0-9]+(\\.[0-9]*)?(e[+-]?[0-9]+)?)|([+-]?[0-9]*(\\.[0-9]+)?(e[+-]?[0-9]+)?))\\s*$/;\n    var stripper = function(n) { return n.substr(0,n.length-1); }\n    var count = 0;\n    for(k=0;k<foo.length;k++) {\n      var bar = (foo[k]+\",\").match(pat),baz;\n      if(bar.length>0) {\n          ret[count] = [];\n          for(j=0;j<bar.length;j++) {\n              baz = stripper(bar[j]);\n              if(patnum.test(baz)) { ret[count][j] = parseFloat(baz); }\n              else ret[count][j] = baz;\n          }\n          count++;\n      }\n    }\n    return ret;\n}\n\nnumeric.toCSV = function toCSV(A) {\n    var s = numeric.dim(A);\n    var i,j,m,n,row,ret;\n    m = s[0];\n    n = s[1];\n    ret = [];\n    for(i=0;i<m;i++) {\n        row = [];\n        for(j=0;j<m;j++) { row[j] = A[i][j].toString(); }\n        ret[i] = row.join(', ');\n    }\n    return ret.join('\\n')+'\\n';\n}\n\nnumeric.getURL = function getURL(url) {\n    var client = new XMLHttpRequest();\n    client.open(\"GET\",url,false);\n    client.send();\n    return client;\n}\n\nnumeric.imageURL = function imageURL(img) {\n    function base64(A) {\n        var n = A.length, i,x,y,z,p,q,r,s;\n        var key = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";\n        var ret = \"\";\n        for(i=0;i<n;i+=3) {\n            x = A[i];\n            y = A[i+1];\n            z = A[i+2];\n            p = x >> 2;\n            q = ((x & 3) << 4) + (y >> 4);\n            r = ((y & 15) << 2) + (z >> 6);\n            s = z & 63;\n            if(i+1>=n) { r = s = 64; }\n            else if(i+2>=n) { s = 64; }\n            ret += key.charAt(p) + key.charAt(q) + key.charAt(r) + key.charAt(s);\n            }\n        return ret;\n    }\n    function crc32Array (a,from,to) {\n        if(typeof from === \"undefined\") { from = 0; }\n        if(typeof to === \"undefined\") { to = a.length; }\n        var table = [0x00000000, 0x77073096, 0xEE0E612C, 0x990951BA, 0x076DC419, 0x706AF48F, 0xE963A535, 0x9E6495A3,\n                     0x0EDB8832, 0x79DCB8A4, 0xE0D5E91E, 0x97D2D988, 0x09B64C2B, 0x7EB17CBD, 0xE7B82D07, 0x90BF1D91, \n                     0x1DB71064, 0x6AB020F2, 0xF3B97148, 0x84BE41DE, 0x1ADAD47D, 0x6DDDE4EB, 0xF4D4B551, 0x83D385C7,\n                     0x136C9856, 0x646BA8C0, 0xFD62F97A, 0x8A65C9EC, 0x14015C4F, 0x63066CD9, 0xFA0F3D63, 0x8D080DF5, \n                     0x3B6E20C8, 0x4C69105E, 0xD56041E4, 0xA2677172, 0x3C03E4D1, 0x4B04D447, 0xD20D85FD, 0xA50AB56B, \n                     0x35B5A8FA, 0x42B2986C, 0xDBBBC9D6, 0xACBCF940, 0x32D86CE3, 0x45DF5C75, 0xDCD60DCF, 0xABD13D59, \n                     0x26D930AC, 0x51DE003A, 0xC8D75180, 0xBFD06116, 0x21B4F4B5, 0x56B3C423, 0xCFBA9599, 0xB8BDA50F,\n                     0x2802B89E, 0x5F058808, 0xC60CD9B2, 0xB10BE924, 0x2F6F7C87, 0x58684C11, 0xC1611DAB, 0xB6662D3D,\n                     0x76DC4190, 0x01DB7106, 0x98D220BC, 0xEFD5102A, 0x71B18589, 0x06B6B51F, 0x9FBFE4A5, 0xE8B8D433,\n                     0x7807C9A2, 0x0F00F934, 0x9609A88E, 0xE10E9818, 0x7F6A0DBB, 0x086D3D2D, 0x91646C97, 0xE6635C01, \n                     0x6B6B51F4, 0x1C6C6162, 0x856530D8, 0xF262004E, 0x6C0695ED, 0x1B01A57B, 0x8208F4C1, 0xF50FC457, \n                     0x65B0D9C6, 0x12B7E950, 0x8BBEB8EA, 0xFCB9887C, 0x62DD1DDF, 0x15DA2D49, 0x8CD37CF3, 0xFBD44C65, \n                     0x4DB26158, 0x3AB551CE, 0xA3BC0074, 0xD4BB30E2, 0x4ADFA541, 0x3DD895D7, 0xA4D1C46D, 0xD3D6F4FB, \n                     0x4369E96A, 0x346ED9FC, 0xAD678846, 0xDA60B8D0, 0x44042D73, 0x33031DE5, 0xAA0A4C5F, 0xDD0D7CC9, \n                     0x5005713C, 0x270241AA, 0xBE0B1010, 0xC90C2086, 0x5768B525, 0x206F85B3, 0xB966D409, 0xCE61E49F, \n                     0x5EDEF90E, 0x29D9C998, 0xB0D09822, 0xC7D7A8B4, 0x59B33D17, 0x2EB40D81, 0xB7BD5C3B, 0xC0BA6CAD, \n                     0xEDB88320, 0x9ABFB3B6, 0x03B6E20C, 0x74B1D29A, 0xEAD54739, 0x9DD277AF, 0x04DB2615, 0x73DC1683, \n                     0xE3630B12, 0x94643B84, 0x0D6D6A3E, 0x7A6A5AA8, 0xE40ECF0B, 0x9309FF9D, 0x0A00AE27, 0x7D079EB1, \n                     0xF00F9344, 0x8708A3D2, 0x1E01F268, 0x6906C2FE, 0xF762575D, 0x806567CB, 0x196C3671, 0x6E6B06E7, \n                     0xFED41B76, 0x89D32BE0, 0x10DA7A5A, 0x67DD4ACC, 0xF9B9DF6F, 0x8EBEEFF9, 0x17B7BE43, 0x60B08ED5, \n                     0xD6D6A3E8, 0xA1D1937E, 0x38D8C2C4, 0x4FDFF252, 0xD1BB67F1, 0xA6BC5767, 0x3FB506DD, 0x48B2364B, \n                     0xD80D2BDA, 0xAF0A1B4C, 0x36034AF6, 0x41047A60, 0xDF60EFC3, 0xA867DF55, 0x316E8EEF, 0x4669BE79, \n                     0xCB61B38C, 0xBC66831A, 0x256FD2A0, 0x5268E236, 0xCC0C7795, 0xBB0B4703, 0x220216B9, 0x5505262F, \n                     0xC5BA3BBE, 0xB2BD0B28, 0x2BB45A92, 0x5CB36A04, 0xC2D7FFA7, 0xB5D0CF31, 0x2CD99E8B, 0x5BDEAE1D, \n                     0x9B64C2B0, 0xEC63F226, 0x756AA39C, 0x026D930A, 0x9C0906A9, 0xEB0E363F, 0x72076785, 0x05005713, \n                     0x95BF4A82, 0xE2B87A14, 0x7BB12BAE, 0x0CB61B38, 0x92D28E9B, 0xE5D5BE0D, 0x7CDCEFB7, 0x0BDBDF21, \n                     0x86D3D2D4, 0xF1D4E242, 0x68DDB3F8, 0x1FDA836E, 0x81BE16CD, 0xF6B9265B, 0x6FB077E1, 0x18B74777, \n                     0x88085AE6, 0xFF0F6A70, 0x66063BCA, 0x11010B5C, 0x8F659EFF, 0xF862AE69, 0x616BFFD3, 0x166CCF45, \n                     0xA00AE278, 0xD70DD2EE, 0x4E048354, 0x3903B3C2, 0xA7672661, 0xD06016F7, 0x4969474D, 0x3E6E77DB, \n                     0xAED16A4A, 0xD9D65ADC, 0x40DF0B66, 0x37D83BF0, 0xA9BCAE53, 0xDEBB9EC5, 0x47B2CF7F, 0x30B5FFE9, \n                     0xBDBDF21C, 0xCABAC28A, 0x53B39330, 0x24B4A3A6, 0xBAD03605, 0xCDD70693, 0x54DE5729, 0x23D967BF, \n                     0xB3667A2E, 0xC4614AB8, 0x5D681B02, 0x2A6F2B94, 0xB40BBE37, 0xC30C8EA1, 0x5A05DF1B, 0x2D02EF8D];\n     \n        var crc = -1, y = 0, n = a.length,i;\n\n        for (i = from; i < to; i++) {\n            y = (crc ^ a[i]) & 0xFF;\n            crc = (crc >>> 8) ^ table[y];\n        }\n     \n        return crc ^ (-1);\n    }\n\n    var h = img[0].length, w = img[0][0].length, s1, s2, next,k,length,a,b,i,j,adler32,crc32;\n    var stream = [\n                  137, 80, 78, 71, 13, 10, 26, 10,                           //  0: PNG signature\n                  0,0,0,13,                                                  //  8: IHDR Chunk length\n                  73, 72, 68, 82,                                            // 12: \"IHDR\" \n                  (w >> 24) & 255, (w >> 16) & 255, (w >> 8) & 255, w&255,   // 16: Width\n                  (h >> 24) & 255, (h >> 16) & 255, (h >> 8) & 255, h&255,   // 20: Height\n                  8,                                                         // 24: bit depth\n                  2,                                                         // 25: RGB\n                  0,                                                         // 26: deflate\n                  0,                                                         // 27: no filter\n                  0,                                                         // 28: no interlace\n                  -1,-2,-3,-4,                                               // 29: CRC\n                  -5,-6,-7,-8,                                               // 33: IDAT Chunk length\n                  73, 68, 65, 84,                                            // 37: \"IDAT\"\n                  // RFC 1950 header starts here\n                  8,                                                         // 41: RFC1950 CMF\n                  29                                                         // 42: RFC1950 FLG\n                  ];\n    crc32 = crc32Array(stream,12,29);\n    stream[29] = (crc32>>24)&255;\n    stream[30] = (crc32>>16)&255;\n    stream[31] = (crc32>>8)&255;\n    stream[32] = (crc32)&255;\n    s1 = 1;\n    s2 = 0;\n    for(i=0;i<h;i++) {\n        if(i<h-1) { stream.push(0); }\n        else { stream.push(1); }\n        a = (3*w+1+(i===0))&255; b = ((3*w+1+(i===0))>>8)&255;\n        stream.push(a); stream.push(b);\n        stream.push((~a)&255); stream.push((~b)&255);\n        if(i===0) stream.push(0);\n        for(j=0;j<w;j++) {\n            for(k=0;k<3;k++) {\n                a = img[k][i][j];\n                if(a>255) a = 255;\n                else if(a<0) a=0;\n                else a = Math.round(a);\n                s1 = (s1 + a )%65521;\n                s2 = (s2 + s1)%65521;\n                stream.push(a);\n            }\n        }\n        stream.push(0);\n    }\n    adler32 = (s2<<16)+s1;\n    stream.push((adler32>>24)&255);\n    stream.push((adler32>>16)&255);\n    stream.push((adler32>>8)&255);\n    stream.push((adler32)&255);\n    length = stream.length - 41;\n    stream[33] = (length>>24)&255;\n    stream[34] = (length>>16)&255;\n    stream[35] = (length>>8)&255;\n    stream[36] = (length)&255;\n    crc32 = crc32Array(stream,37);\n    stream.push((crc32>>24)&255);\n    stream.push((crc32>>16)&255);\n    stream.push((crc32>>8)&255);\n    stream.push((crc32)&255);\n    stream.push(0);\n    stream.push(0);\n    stream.push(0);\n    stream.push(0);\n//    a = stream.length;\n    stream.push(73);  // I\n    stream.push(69);  // E\n    stream.push(78);  // N\n    stream.push(68);  // D\n    stream.push(174); // CRC1\n    stream.push(66);  // CRC2\n    stream.push(96);  // CRC3\n    stream.push(130); // CRC4\n    return 'data:image/png;base64,'+base64(stream);\n}\n\n// 2. Linear algebra with Arrays.\nnumeric._dim = function _dim(x) {\n    var ret = [];\n    while(typeof x === \"object\") { ret.push(x.length); x = x[0]; }\n    return ret;\n}\n\nnumeric.dim = function dim(x) {\n    var y,z;\n    if(typeof x === \"object\") {\n        y = x[0];\n        if(typeof y === \"object\") {\n            z = y[0];\n            if(typeof z === \"object\") {\n                return numeric._dim(x);\n            }\n            return [x.length,y.length];\n        }\n        return [x.length];\n    }\n    return [];\n}\n\nnumeric.mapreduce = function mapreduce(body,init) {\n    return Function('x','accum','_s','_k',\n            'if(typeof accum === \"undefined\") accum = '+init+';\\n'+\n            'if(typeof x === \"number\") { var xi = x; '+body+'; return accum; }\\n'+\n            'if(typeof _s === \"undefined\") _s = numeric.dim(x);\\n'+\n            'if(typeof _k === \"undefined\") _k = 0;\\n'+\n            'var _n = _s[_k];\\n'+\n            'var i,xi;\\n'+\n            'if(_k < _s.length-1) {\\n'+\n            '    for(i=_n-1;i>=0;i--) {\\n'+\n            '        accum = arguments.callee(x[i],accum,_s,_k+1);\\n'+\n            '    }'+\n            '    return accum;\\n'+\n            '}\\n'+\n            'for(i=_n-1;i>=1;i-=2) { \\n'+\n            '    xi = x[i];\\n'+\n            '    '+body+';\\n'+\n            '    xi = x[i-1];\\n'+\n            '    '+body+';\\n'+\n            '}\\n'+\n            'if(i === 0) {\\n'+\n            '    xi = x[i];\\n'+\n            '    '+body+'\\n'+\n            '}\\n'+\n            'return accum;'\n            );\n}\nnumeric.mapreduce2 = function mapreduce2(body,setup) {\n    return Function('x',\n            'var n = x.length;\\n'+\n            'var i,xi;\\n'+setup+';\\n'+\n            'for(i=n-1;i!==-1;--i) { \\n'+\n            '    xi = x[i];\\n'+\n            '    '+body+';\\n'+\n            '}\\n'+\n            'return accum;'\n            );\n}\n\n\nnumeric.same = function same(x,y) {\n    var i,n;\n    if(!(x instanceof Array) || !(y instanceof Array)) { return false; }\n    n = x.length;\n    if(n !== y.length) { return false; }\n    for(i=0;i<n;i++) {\n        if(x[i] === y[i]) { continue; }\n        if(typeof x[i] === \"object\") { if(!same(x[i],y[i])) return false; }\n        else { return false; }\n    }\n    return true;\n}\n\nnumeric.rep = function rep(s,v,k) {\n    if(typeof k === \"undefined\") { k=0; }\n    var n = s[k], ret = Array(n), i;\n    if(k === s.length-1) {\n        for(i=n-2;i>=0;i-=2) { ret[i+1] = v; ret[i] = v; }\n        if(i===-1) { ret[0] = v; }\n        return ret;\n    }\n    for(i=n-1;i>=0;i--) { ret[i] = numeric.rep(s,v,k+1); }\n    return ret;\n}\n\n\nnumeric.dotMMsmall = function dotMMsmall(x,y) {\n    var i,j,k,p,q,r,ret,foo,bar,woo,i0,k0,p0,r0;\n    p = x.length; q = y.length; r = y[0].length;\n    ret = Array(p);\n    for(i=p-1;i>=0;i--) {\n        foo = Array(r);\n        bar = x[i];\n        for(k=r-1;k>=0;k--) {\n            woo = bar[q-1]*y[q-1][k];\n            for(j=q-2;j>=1;j-=2) {\n                i0 = j-1;\n                woo += bar[j]*y[j][k] + bar[i0]*y[i0][k];\n            }\n            if(j===0) { woo += bar[0]*y[0][k]; }\n            foo[k] = woo;\n        }\n        ret[i] = foo;\n    }\n    return ret;\n}\nnumeric._getCol = function _getCol(A,j,x) {\n    var n = A.length, i;\n    for(i=n-1;i>0;--i) {\n        x[i] = A[i][j];\n        --i;\n        x[i] = A[i][j];\n    }\n    if(i===0) x[0] = A[0][j];\n}\nnumeric.dotMMbig = function dotMMbig(x,y){\n    var gc = numeric._getCol, p = y.length, v = Array(p);\n    var m = x.length, n = y[0].length, A = new Array(m), xj;\n    var VV = numeric.dotVV;\n    var i,j,k,z;\n    --p;\n    --m;\n    for(i=m;i!==-1;--i) A[i] = Array(n);\n    --n;\n    for(i=n;i!==-1;--i) {\n        gc(y,i,v);\n        for(j=m;j!==-1;--j) {\n            z=0;\n            xj = x[j];\n            A[j][i] = VV(xj,v);\n        }\n    }\n    return A;\n}\n\nnumeric.dotMV = function dotMV(x,y) {\n    var p = x.length, q = y.length,i;\n    var ret = Array(p), dotVV = numeric.dotVV;\n    for(i=p-1;i>=0;i--) { ret[i] = dotVV(x[i],y); }\n    return ret;\n}\n\nnumeric.dotVM = function dotVM(x,y) {\n    var i,j,k,p,q,r,ret,foo,bar,woo,i0,k0,p0,r0,s1,s2,s3,baz,accum;\n    p = x.length; q = y[0].length;\n    ret = Array(q);\n    for(k=q-1;k>=0;k--) {\n        woo = x[p-1]*y[p-1][k];\n        for(j=p-2;j>=1;j-=2) {\n            i0 = j-1;\n            woo += x[j]*y[j][k] + x[i0]*y[i0][k];\n        }\n        if(j===0) { woo += x[0]*y[0][k]; }\n        ret[k] = woo;\n    }\n    return ret;\n}\n\nnumeric.dotVV = function dotVV(x,y) {\n    var i,n=x.length,i1,ret = x[n-1]*y[n-1];\n    for(i=n-2;i>=1;i-=2) {\n        i1 = i-1;\n        ret += x[i]*y[i] + x[i1]*y[i1];\n    }\n    if(i===0) { ret += x[0]*y[0]; }\n    return ret;\n}\n\nnumeric.dot = function dot(x,y) {\n    var d = numeric.dim;\n    switch(d(x).length*1000+d(y).length) {\n    case 2002:\n        if(y.length < 10) return numeric.dotMMsmall(x,y);\n        else return numeric.dotMMbig(x,y);\n    case 2001: return numeric.dotMV(x,y);\n    case 1002: return numeric.dotVM(x,y);\n    case 1001: return numeric.dotVV(x,y);\n    case 1000: return numeric.mulVS(x,y);\n    case 1: return numeric.mulSV(x,y);\n    case 0: return x*y;\n    default: throw new Error('numeric.dot only works on vectors and matrices');\n    }\n}\n\nnumeric.diag = function diag(d) {\n    var i,i1,j,n = d.length, A = Array(n), Ai;\n    for(i=n-1;i>=0;i--) {\n        Ai = Array(n);\n        i1 = i+2;\n        for(j=n-1;j>=i1;j-=2) {\n            Ai[j] = 0;\n            Ai[j-1] = 0;\n        }\n        if(j>i) { Ai[j] = 0; }\n        Ai[i] = d[i];\n        for(j=i-1;j>=1;j-=2) {\n            Ai[j] = 0;\n            Ai[j-1] = 0;\n        }\n        if(j===0) { Ai[0] = 0; }\n        A[i] = Ai;\n    }\n    return A;\n}\nnumeric.getDiag = function(A) {\n    var n = Math.min(A.length,A[0].length),i,ret = Array(n);\n    for(i=n-1;i>=1;--i) {\n        ret[i] = A[i][i];\n        --i;\n        ret[i] = A[i][i];\n    }\n    if(i===0) {\n        ret[0] = A[0][0];\n    }\n    return ret;\n}\n\nnumeric.identity = function identity(n) { return numeric.diag(numeric.rep([n],1)); }\nnumeric.pointwise = function pointwise(params,body,setup) {\n    if(typeof setup === \"undefined\") { setup = \"\"; }\n    var fun = [];\n    var k;\n    var avec = /\\[i\\]$/,p,thevec = '';\n    var haveret = false;\n    for(k=0;k<params.length;k++) {\n        if(avec.test(params[k])) {\n            p = params[k].substring(0,params[k].length-3);\n            thevec = p;\n        } else { p = params[k]; }\n        if(p==='ret') haveret = true;\n        fun.push(p);\n    }\n    fun[params.length] = '_s';\n    fun[params.length+1] = '_k';\n    fun[params.length+2] = (\n            'if(typeof _s === \"undefined\") _s = numeric.dim('+thevec+');\\n'+\n            'if(typeof _k === \"undefined\") _k = 0;\\n'+\n            'var _n = _s[_k];\\n'+\n            'var i'+(haveret?'':', ret = Array(_n)')+';\\n'+\n            'if(_k < _s.length-1) {\\n'+\n            '    for(i=_n-1;i>=0;i--) ret[i] = arguments.callee('+params.join(',')+',_s,_k+1);\\n'+\n            '    return ret;\\n'+\n            '}\\n'+\n            setup+'\\n'+\n            'for(i=_n-1;i!==-1;--i) {\\n'+\n            '    '+body+'\\n'+\n            '}\\n'+\n            'return ret;'\n            );\n    return Function.apply(null,fun);\n}\nnumeric.pointwise2 = function pointwise2(params,body,setup) {\n    if(typeof setup === \"undefined\") { setup = \"\"; }\n    var fun = [];\n    var k;\n    var avec = /\\[i\\]$/,p,thevec = '';\n    var haveret = false;\n    for(k=0;k<params.length;k++) {\n        if(avec.test(params[k])) {\n            p = params[k].substring(0,params[k].length-3);\n            thevec = p;\n        } else { p = params[k]; }\n        if(p==='ret') haveret = true;\n        fun.push(p);\n    }\n    fun[params.length] = (\n            'var _n = '+thevec+'.length;\\n'+\n            'var i'+(haveret?'':', ret = Array(_n)')+';\\n'+\n            setup+'\\n'+\n            'for(i=_n-1;i!==-1;--i) {\\n'+\n            body+'\\n'+\n            '}\\n'+\n            'return ret;'\n            );\n    return Function.apply(null,fun);\n}\nnumeric._biforeach = (function _biforeach(x,y,s,k,f) {\n    if(k === s.length-1) { f(x,y); return; }\n    var i,n=s[k];\n    for(i=n-1;i>=0;i--) { _biforeach(typeof x===\"object\"?x[i]:x,typeof y===\"object\"?y[i]:y,s,k+1,f); }\n});\nnumeric._biforeach2 = (function _biforeach2(x,y,s,k,f) {\n    if(k === s.length-1) { return f(x,y); }\n    var i,n=s[k],ret = Array(n);\n    for(i=n-1;i>=0;--i) { ret[i] = _biforeach2(typeof x===\"object\"?x[i]:x,typeof y===\"object\"?y[i]:y,s,k+1,f); }\n    return ret;\n});\nnumeric._foreach = (function _foreach(x,s,k,f) {\n    if(k === s.length-1) { f(x); return; }\n    var i,n=s[k];\n    for(i=n-1;i>=0;i--) { _foreach(x[i],s,k+1,f); }\n});\nnumeric._foreach2 = (function _foreach2(x,s,k,f) {\n    if(k === s.length-1) { return f(x); }\n    var i,n=s[k], ret = Array(n);\n    for(i=n-1;i>=0;i--) { ret[i] = _foreach2(x[i],s,k+1,f); }\n    return ret;\n});\n\n/*numeric.anyV = numeric.mapreduce('if(xi) return true;','false');\nnumeric.allV = numeric.mapreduce('if(!xi) return false;','true');\nnumeric.any = function(x) { if(typeof x.length === \"undefined\") return x; return numeric.anyV(x); }\nnumeric.all = function(x) { if(typeof x.length === \"undefined\") return x; return numeric.allV(x); }*/\n\nnumeric.ops2 = {\n        add: '+',\n        sub: '-',\n        mul: '*',\n        div: '/',\n        mod: '%',\n        and: '&&',\n        or:  '||',\n        eq:  '===',\n        neq: '!==',\n        lt:  '<',\n        gt:  '>',\n        leq: '<=',\n        geq: '>=',\n        band: '&',\n        bor: '|',\n        bxor: '^',\n        lshift: '<<',\n        rshift: '>>',\n        rrshift: '>>>'\n};\nnumeric.opseq = {\n        addeq: '+=',\n        subeq: '-=',\n        muleq: '*=',\n        diveq: '/=',\n        modeq: '%=',\n        lshifteq: '<<=',\n        rshifteq: '>>=',\n        rrshifteq: '>>>=',\n        bandeq: '&=',\n        boreq: '|=',\n        bxoreq: '^='\n};\nnumeric.mathfuns = ['abs','acos','asin','atan','ceil','cos',\n                    'exp','floor','log','round','sin','sqrt','tan',\n                    'isNaN','isFinite'];\nnumeric.mathfuns2 = ['atan2','pow','max','min'];\nnumeric.ops1 = {\n        neg: '-',\n        not: '!',\n        bnot: '~',\n        clone: ''\n};\nnumeric.mapreducers = {\n        any: ['if(xi) return true;','var accum = false;'],\n        all: ['if(!xi) return false;','var accum = true;'],\n        sum: ['accum += xi;','var accum = 0;'],\n        prod: ['accum *= xi;','var accum = 1;'],\n        norm2Squared: ['accum += xi*xi;','var accum = 0;'],\n        norminf: ['accum = max(accum,abs(xi));','var accum = 0, max = Math.max, abs = Math.abs;'],\n        norm1: ['accum += abs(xi)','var accum = 0, abs = Math.abs;'],\n        sup: ['accum = max(accum,xi);','var accum = -Infinity, max = Math.max;'],\n        inf: ['accum = min(accum,xi);','var accum = Infinity, min = Math.min;']\n};\n\n(function () {\n    var i,o;\n    for(i=0;i<numeric.mathfuns2.length;++i) {\n        o = numeric.mathfuns2[i];\n        numeric.ops2[o] = o;\n    }\n    for(i in numeric.ops2) {\n        if(numeric.ops2.hasOwnProperty(i)) {\n            o = numeric.ops2[i];\n            var code, codeeq, setup = '';\n            if(numeric.myIndexOf.call(numeric.mathfuns2,i)!==-1) {\n                setup = 'var '+o+' = Math.'+o+';\\n';\n                code = function(r,x,y) { return r+' = '+o+'('+x+','+y+')'; };\n                codeeq = function(x,y) { return x+' = '+o+'('+x+','+y+')'; };\n            } else {\n                code = function(r,x,y) { return r+' = '+x+' '+o+' '+y; };\n                if(numeric.opseq.hasOwnProperty(i+'eq')) {\n                    codeeq = function(x,y) { return x+' '+o+'= '+y; };\n                } else {\n                    codeeq = function(x,y) { return x+' = '+x+' '+o+' '+y; };                    \n                }\n            }\n            numeric[i+'VV'] = numeric.pointwise2(['x[i]','y[i]'],code('ret[i]','x[i]','y[i]'),setup);\n            numeric[i+'SV'] = numeric.pointwise2(['x','y[i]'],code('ret[i]','x','y[i]'),setup);\n            numeric[i+'VS'] = numeric.pointwise2(['x[i]','y'],code('ret[i]','x[i]','y'),setup);\n            numeric[i] = Function(\n                    'var n = arguments.length, i, x = arguments[0], y;\\n'+\n                    'var VV = numeric.'+i+'VV, VS = numeric.'+i+'VS, SV = numeric.'+i+'SV;\\n'+\n                    'var dim = numeric.dim;\\n'+\n                    'for(i=1;i!==n;++i) { \\n'+\n                    '  y = arguments[i];\\n'+\n                    '  if(typeof x === \"object\") {\\n'+\n                    '      if(typeof y === \"object\") x = numeric._biforeach2(x,y,dim(x),0,VV);\\n'+\n                    '      else x = numeric._biforeach2(x,y,dim(x),0,VS);\\n'+\n                    '  } else if(typeof y === \"object\") x = numeric._biforeach2(x,y,dim(y),0,SV);\\n'+\n                    '  else '+codeeq('x','y')+'\\n'+\n                    '}\\nreturn x;\\n');\n            numeric[o] = numeric[i];\n            numeric[i+'eqV'] = numeric.pointwise2(['ret[i]','x[i]'], codeeq('ret[i]','x[i]'),setup);\n            numeric[i+'eqS'] = numeric.pointwise2(['ret[i]','x'], codeeq('ret[i]','x'),setup);\n            numeric[i+'eq'] = Function(\n                    'var n = arguments.length, i, x = arguments[0], y;\\n'+\n                    'var V = numeric.'+i+'eqV, S = numeric.'+i+'eqS\\n'+\n                    'var s = numeric.dim(x);\\n'+\n                    'for(i=1;i!==n;++i) { \\n'+\n                    '  y = arguments[i];\\n'+\n                    '  if(typeof y === \"object\") numeric._biforeach(x,y,s,0,V);\\n'+\n                    '  else numeric._biforeach(x,y,s,0,S);\\n'+\n                    '}\\nreturn x;\\n');\n        }\n    }\n    for(i=0;i<numeric.mathfuns2.length;++i) {\n        o = numeric.mathfuns2[i];\n        delete numeric.ops2[o];\n    }\n    for(i=0;i<numeric.mathfuns.length;++i) {\n        o = numeric.mathfuns[i];\n        numeric.ops1[o] = o;\n    }\n    for(i in numeric.ops1) {\n        if(numeric.ops1.hasOwnProperty(i)) {\n            setup = '';\n            o = numeric.ops1[i];\n            if(numeric.myIndexOf.call(numeric.mathfuns,i)!==-1) {\n                if(Math.hasOwnProperty(o)) setup = 'var '+o+' = Math.'+o+';\\n';\n            }\n            numeric[i+'eqV'] = numeric.pointwise2(['ret[i]'],'ret[i] = '+o+'(ret[i]);',setup);\n            numeric[i+'eq'] = Function('x',\n                    'if(typeof x !== \"object\") return '+o+'x\\n'+\n                    'var i;\\n'+\n                    'var V = numeric.'+i+'eqV;\\n'+\n                    'var s = numeric.dim(x);\\n'+\n                    'numeric._foreach(x,s,0,V);\\n'+\n                    'return x;\\n');\n            numeric[i+'V'] = numeric.pointwise2(['x[i]'],'ret[i] = '+o+'(x[i]);',setup);\n            numeric[i] = Function('x',\n                    'if(typeof x !== \"object\") return '+o+'(x)\\n'+\n                    'var i;\\n'+\n                    'var V = numeric.'+i+'V;\\n'+\n                    'var s = numeric.dim(x);\\n'+\n                    'return numeric._foreach2(x,s,0,V);\\n');\n        }\n    }\n    for(i=0;i<numeric.mathfuns.length;++i) {\n        o = numeric.mathfuns[i];\n        delete numeric.ops1[o];\n    }\n    for(i in numeric.mapreducers) {\n        if(numeric.mapreducers.hasOwnProperty(i)) {\n            o = numeric.mapreducers[i];\n            numeric[i+'V'] = numeric.mapreduce2(o[0],o[1]);\n            numeric[i] = Function('x','s','k',\n                    o[1]+\n                    'if(typeof x !== \"object\") {'+\n                    '    xi = x;\\n'+\n                    o[0]+';\\n'+\n                    '    return accum;\\n'+\n                    '}'+\n                    'if(typeof s === \"undefined\") s = numeric.dim(x);\\n'+\n                    'if(typeof k === \"undefined\") k = 0;\\n'+\n                    'if(k === s.length-1) return numeric.'+i+'V(x);\\n'+\n                    'var xi;\\n'+\n                    'var n = x.length, i;\\n'+\n                    'for(i=n-1;i!==-1;--i) {\\n'+\n                    '   xi = arguments.callee(x[i]);\\n'+\n                    o[0]+';\\n'+\n                    '}\\n'+\n                    'return accum;\\n');\n        }\n    }\n}());\n\nnumeric.truncVV = numeric.pointwise(['x[i]','y[i]'],'ret[i] = round(x[i]/y[i])*y[i];','var round = Math.round;');\nnumeric.truncVS = numeric.pointwise(['x[i]','y'],'ret[i] = round(x[i]/y)*y;','var round = Math.round;');\nnumeric.truncSV = numeric.pointwise(['x','y[i]'],'ret[i] = round(x/y[i])*y[i];','var round = Math.round;');\nnumeric.trunc = function trunc(x,y) {\n    if(typeof x === \"object\") {\n        if(typeof y === \"object\") return numeric.truncVV(x,y);\n        return numeric.truncVS(x,y);\n    }\n    if (typeof y === \"object\") return numeric.truncSV(x,y);\n    return Math.round(x/y)*y;\n}\n\nnumeric.inv = function inv(x) {\n    var s = numeric.dim(x), abs = Math.abs, m = s[0], n = s[1];\n    var A = numeric.clone(x), Ai, Aj;\n    var I = numeric.identity(m), Ii, Ij;\n    var i,j,k,x;\n    for(j=0;j<n;++j) {\n        var i0 = -1;\n        var v0 = -1;\n        for(i=j;i!==m;++i) { k = abs(A[i][j]); if(k>v0) { i0 = i; v0 = k; } }\n        Aj = A[i0]; A[i0] = A[j]; A[j] = Aj;\n        Ij = I[i0]; I[i0] = I[j]; I[j] = Ij;\n        x = Aj[j];\n        for(k=j;k!==n;++k)    Aj[k] /= x; \n        for(k=n-1;k!==-1;--k) Ij[k] /= x;\n        for(i=m-1;i!==-1;--i) {\n            if(i!==j) {\n                Ai = A[i];\n                Ii = I[i];\n                x = Ai[j];\n                for(k=j+1;k!==n;++k)  Ai[k] -= Aj[k]*x;\n                for(k=n-1;k>0;--k) { Ii[k] -= Ij[k]*x; --k; Ii[k] -= Ij[k]*x; }\n                if(k===0) Ii[0] -= Ij[0]*x;\n            }\n        }\n    }\n    return I;\n}\n\nnumeric.det = function det(x) {\n    var s = numeric.dim(x);\n    if(s.length !== 2 || s[0] !== s[1]) { throw new Error('numeric: det() only works on square matrices'); }\n    var n = s[0], ret = 1,i,j,k,A = numeric.clone(x),Aj,Ai,alpha,temp,k1,k2,k3;\n    for(j=0;j<n-1;j++) {\n        k=j;\n        for(i=j+1;i<n;i++) { if(Math.abs(A[i][j]) > Math.abs(A[k][j])) { k = i; } }\n        if(k !== j) {\n            temp = A[k]; A[k] = A[j]; A[j] = temp;\n            ret *= -1;\n        }\n        Aj = A[j];\n        for(i=j+1;i<n;i++) {\n            Ai = A[i];\n            alpha = Ai[j]/Aj[j];\n            for(k=j+1;k<n-1;k+=2) {\n                k1 = k+1;\n                Ai[k] -= Aj[k]*alpha;\n                Ai[k1] -= Aj[k1]*alpha;\n            }\n            if(k!==n) { Ai[k] -= Aj[k]*alpha; }\n        }\n        if(Aj[j] === 0) { return 0; }\n        ret *= Aj[j];\n    }\n    return ret*A[j][j];\n}\n\nnumeric.transpose = function transpose(x) {\n    var i,j,m = x.length,n = x[0].length, ret=Array(n),A0,A1,Bj;\n    for(j=0;j<n;j++) ret[j] = Array(m);\n    for(i=m-1;i>=1;i-=2) {\n        A1 = x[i];\n        A0 = x[i-1];\n        for(j=n-1;j>=1;--j) {\n            Bj = ret[j]; Bj[i] = A1[j]; Bj[i-1] = A0[j];\n            --j;\n            Bj = ret[j]; Bj[i] = A1[j]; Bj[i-1] = A0[j];\n        }\n        if(j===0) {\n            Bj = ret[0]; Bj[i] = A1[0]; Bj[i-1] = A0[0];\n        }\n    }\n    if(i===0) {\n        A0 = x[0];\n        for(j=n-1;j>=1;--j) {\n            ret[j][0] = A0[j];\n            --j;\n            ret[j][0] = A0[j];\n        }\n        if(j===0) { ret[0][0] = A0[0]; }\n    }\n    return ret;\n}\nnumeric.negtranspose = function negtranspose(x) {\n    var i,j,m = x.length,n = x[0].length, ret=Array(n),A0,A1,Bj;\n    for(j=0;j<n;j++) ret[j] = Array(m);\n    for(i=m-1;i>=1;i-=2) {\n        A1 = x[i];\n        A0 = x[i-1];\n        for(j=n-1;j>=1;--j) {\n            Bj = ret[j]; Bj[i] = -A1[j]; Bj[i-1] = -A0[j];\n            --j;\n            Bj = ret[j]; Bj[i] = -A1[j]; Bj[i-1] = -A0[j];\n        }\n        if(j===0) {\n            Bj = ret[0]; Bj[i] = -A1[0]; Bj[i-1] = -A0[0];\n        }\n    }\n    if(i===0) {\n        A0 = x[0];\n        for(j=n-1;j>=1;--j) {\n            ret[j][0] = -A0[j];\n            --j;\n            ret[j][0] = -A0[j];\n        }\n        if(j===0) { ret[0][0] = -A0[0]; }\n    }\n    return ret;\n}\n\nnumeric._random = function _random(s,k) {\n    var i,n=s[k],ret=Array(n), rnd;\n    if(k === s.length-1) {\n        rnd = Math.random;\n        for(i=n-1;i>=1;i-=2) {\n            ret[i] = rnd();\n            ret[i-1] = rnd();\n        }\n        if(i===0) { ret[0] = rnd(); }\n        return ret;\n    }\n    for(i=n-1;i>=0;i--) ret[i] = _random(s,k+1);\n    return ret;\n}\nnumeric.random = function random(s) { return numeric._random(s,0); }\n\nnumeric.norm2 = function norm2(x) { return Math.sqrt(numeric.norm2Squared(x)); }\n\nnumeric.linspace = function linspace(a,b,n) {\n    if(typeof n === \"undefined\") n = Math.max(Math.round(b-a)+1,1);\n    if(n<2) { return n===1?[a]:[]; }\n    var i,ret = Array(n);\n    n--;\n    for(i=n;i>=0;i--) { ret[i] = (i*b+(n-i)*a)/n; }\n    return ret;\n}\n\nnumeric.getBlock = function getBlock(x,from,to) {\n    var s = numeric.dim(x);\n    function foo(x,k) {\n        var i,a = from[k], n = to[k]-a, ret = Array(n);\n        if(k === s.length-1) {\n            for(i=n;i>=0;i--) { ret[i] = x[i+a]; }\n            return ret;\n        }\n        for(i=n;i>=0;i--) { ret[i] = foo(x[i+a],k+1); }\n        return ret;\n    }\n    return foo(x,0);\n}\n\nnumeric.setBlock = function setBlock(x,from,to,B) {\n    var s = numeric.dim(x);\n    function foo(x,y,k) {\n        var i,a = from[k], n = to[k]-a;\n        if(k === s.length-1) { for(i=n;i>=0;i--) { x[i+a] = y[i]; } }\n        for(i=n;i>=0;i--) { foo(x[i+a],y[i],k+1); }\n    }\n    foo(x,B,0);\n    return x;\n}\n\nnumeric.getRange = function getRange(A,I,J) {\n    var m = I.length, n = J.length;\n    var i,j;\n    var B = Array(m), Bi, AI;\n    for(i=m-1;i!==-1;--i) {\n        B[i] = Array(n);\n        Bi = B[i];\n        AI = A[I[i]];\n        for(j=n-1;j!==-1;--j) Bi[j] = AI[J[j]];\n    }\n    return B;\n}\n\nnumeric.blockMatrix = function blockMatrix(X) {\n    var s = numeric.dim(X);\n    if(s.length<4) return numeric.blockMatrix([X]);\n    var m=s[0],n=s[1],M,N,i,j,Xij;\n    M = 0; N = 0;\n    for(i=0;i<m;++i) M+=X[i][0].length;\n    for(j=0;j<n;++j) N+=X[0][j][0].length;\n    var Z = Array(M);\n    for(i=0;i<M;++i) Z[i] = Array(N);\n    var I=0,J,ZI,k,l,Xijk;\n    for(i=0;i<m;++i) {\n        J=N;\n        for(j=n-1;j!==-1;--j) {\n            Xij = X[i][j];\n            J -= Xij[0].length;\n            for(k=Xij.length-1;k!==-1;--k) {\n                Xijk = Xij[k];\n                ZI = Z[I+k];\n                for(l = Xijk.length-1;l!==-1;--l) ZI[J+l] = Xijk[l];\n            }\n        }\n        I += X[i][0].length;\n    }\n    return Z;\n}\n\nnumeric.tensor = function tensor(x,y) {\n    if(typeof x === \"number\" || typeof y === \"number\") return numeric.mul(x,y);\n    var s1 = numeric.dim(x), s2 = numeric.dim(y);\n    if(s1.length !== 1 || s2.length !== 1) {\n        throw new Error('numeric: tensor product is only defined for vectors');\n    }\n    var m = s1[0], n = s2[0], A = Array(m), Ai, i,j,xi;\n    for(i=m-1;i>=0;i--) {\n        Ai = Array(n);\n        xi = x[i];\n        for(j=n-1;j>=3;--j) {\n            Ai[j] = xi * y[j];\n            --j;\n            Ai[j] = xi * y[j];\n            --j;\n            Ai[j] = xi * y[j];\n            --j;\n            Ai[j] = xi * y[j];\n        }\n        while(j>=0) { Ai[j] = xi * y[j]; --j; }\n        A[i] = Ai;\n    }\n    return A;\n}\n\n// 3. The Tensor type T\nnumeric.T = function T(x,y) { this.x = x; this.y = y; }\nnumeric.t = function t(x,y) { return new numeric.T(x,y); }\n\nnumeric.Tbinop = function Tbinop(rr,rc,cr,cc,setup) {\n    var io = numeric.indexOf;\n    if(typeof setup !== \"string\") {\n        var k;\n        setup = '';\n        for(k in numeric) {\n            if(numeric.hasOwnProperty(k) && (rr.indexOf(k)>=0 || rc.indexOf(k)>=0 || cr.indexOf(k)>=0 || cc.indexOf(k)>=0) && k.length>1) {\n                setup += 'var '+k+' = numeric.'+k+';\\n';\n            }\n        }\n    }\n    return Function(['y'],\n            'var x = this;\\n'+\n            'if(!(y instanceof numeric.T)) { y = new numeric.T(y); }\\n'+\n            setup+'\\n'+\n            'if(x.y) {'+\n            '  if(y.y) {'+\n            '    return new numeric.T('+cc+');\\n'+\n            '  }\\n'+\n            '  return new numeric.T('+cr+');\\n'+\n            '}\\n'+\n            'if(y.y) {\\n'+\n            '  return new numeric.T('+rc+');\\n'+\n            '}\\n'+\n            'return new numeric.T('+rr+');\\n'\n    );\n}\n\nnumeric.T.prototype.add = numeric.Tbinop(\n        'add(x.x,y.x)',\n        'add(x.x,y.x),y.y',\n        'add(x.x,y.x),x.y',\n        'add(x.x,y.x),add(x.y,y.y)');\nnumeric.T.prototype.sub = numeric.Tbinop(\n        'sub(x.x,y.x)',\n        'sub(x.x,y.x),neg(y.y)',\n        'sub(x.x,y.x),x.y',\n        'sub(x.x,y.x),sub(x.y,y.y)');\nnumeric.T.prototype.mul = numeric.Tbinop(\n        'mul(x.x,y.x)',\n        'mul(x.x,y.x),mul(x.x,y.y)',\n        'mul(x.x,y.x),mul(x.y,y.x)',\n        'sub(mul(x.x,y.x),mul(x.y,y.y)),add(mul(x.x,y.y),mul(x.y,y.x))');\n\nnumeric.T.prototype.reciprocal = function reciprocal() {\n    var mul = numeric.mul, div = numeric.div;\n    if(this.y) {\n        var d = numeric.add(mul(this.x,this.x),mul(this.y,this.y));\n        return new numeric.T(div(this.x,d),div(numeric.neg(this.y),d));\n    }\n    return new T(div(1,this.x));\n}\nnumeric.T.prototype.div = function div(y) {\n    if(!(y instanceof numeric.T)) y = new numeric.T(y);\n    if(y.y) { return this.mul(y.reciprocal()); }\n    var div = numeric.div;\n    if(this.y) { return new numeric.T(div(this.x,y.x),div(this.y,y.x)); }\n    return new numeric.T(div(this.x,y.x));\n}\nnumeric.T.prototype.dot = numeric.Tbinop(\n        'dot(x.x,y.x)',\n        'dot(x.x,y.x),dot(x.x,y.y)',\n        'dot(x.x,y.x),dot(x.y,y.x)',\n        'sub(dot(x.x,y.x),dot(x.y,y.y)),add(dot(x.x,y.y),dot(x.y,y.x))'\n        );\nnumeric.T.prototype.transpose = function transpose() {\n    var t = numeric.transpose, x = this.x, y = this.y;\n    if(y) { return new numeric.T(t(x),t(y)); }\n    return new numeric.T(t(x));\n}\nnumeric.T.prototype.transjugate = function transjugate() {\n    var t = numeric.transpose, x = this.x, y = this.y;\n    if(y) { return new numeric.T(t(x),numeric.negtranspose(y)); }\n    return new numeric.T(t(x));\n}\nnumeric.Tunop = function Tunop(r,c,s) {\n    if(typeof s !== \"string\") { s = ''; }\n    return Function(\n            'var x = this;\\n'+\n            s+'\\n'+\n            'if(x.y) {'+\n            '  '+c+';\\n'+\n            '}\\n'+\n            r+';\\n'\n    );\n}\n\nnumeric.T.prototype.exp = numeric.Tunop(\n        'return new numeric.T(ex)',\n        'return new numeric.T(mul(cos(x.y),ex),mul(sin(x.y),ex))',\n        'var ex = numeric.exp(x.x), cos = numeric.cos, sin = numeric.sin, mul = numeric.mul;');\nnumeric.T.prototype.conj = numeric.Tunop(\n        'return new numeric.T(x.x);',\n        'return new numeric.T(x.x,numeric.neg(x.y));');\nnumeric.T.prototype.neg = numeric.Tunop(\n        'return new numeric.T(neg(x.x));',\n        'return new numeric.T(neg(x.x),neg(x.y));',\n        'var neg = numeric.neg;');\nnumeric.T.prototype.sin = numeric.Tunop(\n        'return new numeric.T(numeric.sin(x.x))',\n        'return x.exp().sub(x.neg().exp()).div(new numeric.T(0,2));');\nnumeric.T.prototype.cos = numeric.Tunop(\n        'return new numeric.T(numeric.cos(x.x))',\n        'return x.exp().add(x.neg().exp()).div(2);');\nnumeric.T.prototype.abs = numeric.Tunop(\n        'return new numeric.T(numeric.abs(x.x));',\n        'return new numeric.T(numeric.sqrt(numeric.add(mul(x.x,x.x),mul(x.y,x.y))));',\n        'var mul = numeric.mul;');\nnumeric.T.prototype.log = numeric.Tunop(\n        'return new numeric.T(numeric.log(x.x));',\n        'var theta = new numeric.T(numeric.atan2(x.y,x.x)), r = x.abs();\\n'+\n        'return new numeric.T(numeric.log(r.x),theta.x);');\nnumeric.T.prototype.norm2 = numeric.Tunop(\n        'return numeric.norm2(x.x);',\n        'var f = numeric.norm2Squared;\\n'+\n        'return Math.sqrt(f(x.x)+f(x.y));');\nnumeric.T.prototype.inv = function inv() {\n    var A = this;\n    if(typeof A.y === \"undefined\") { return new numeric.T(numeric.inv(A.x)); }\n    var n = A.x.length, i, j, k;\n    var Rx = numeric.identity(n),Ry = numeric.rep([n,n],0);\n    var Ax = numeric.clone(A.x), Ay = numeric.clone(A.y);\n    var Aix, Aiy, Ajx, Ajy, Rix, Riy, Rjx, Rjy;\n    var i,j,k,d,d1,ax,ay,bx,by,temp;\n    for(i=0;i<n;i++) {\n        ax = Ax[i][i]; ay = Ay[i][i];\n        d = ax*ax+ay*ay;\n        k = i;\n        for(j=i+1;j<n;j++) {\n            ax = Ax[j][i]; ay = Ay[j][i];\n            d1 = ax*ax+ay*ay;\n            if(d1 > d) { k=j; d = d1; }\n        }\n        if(k!==i) {\n            temp = Ax[i]; Ax[i] = Ax[k]; Ax[k] = temp;\n            temp = Ay[i]; Ay[i] = Ay[k]; Ay[k] = temp;\n            temp = Rx[i]; Rx[i] = Rx[k]; Rx[k] = temp;\n            temp = Ry[i]; Ry[i] = Ry[k]; Ry[k] = temp;\n        }\n        Aix = Ax[i]; Aiy = Ay[i];\n        Rix = Rx[i]; Riy = Ry[i];\n        ax = Aix[i]; ay = Aiy[i];\n        for(j=i+1;j<n;j++) {\n            bx = Aix[j]; by = Aiy[j];\n            Aix[j] = (bx*ax+by*ay)/d;\n            Aiy[j] = (by*ax-bx*ay)/d;\n        }\n        for(j=0;j<n;j++) {\n            bx = Rix[j]; by = Riy[j];\n            Rix[j] = (bx*ax+by*ay)/d;\n            Riy[j] = (by*ax-bx*ay)/d;\n        }\n        for(j=i+1;j<n;j++) {\n            Ajx = Ax[j]; Ajy = Ay[j];\n            Rjx = Rx[j]; Rjy = Ry[j];\n            ax = Ajx[i]; ay = Ajy[i];\n            for(k=i+1;k<n;k++) {\n                bx = Aix[k]; by = Aiy[k];\n                Ajx[k] -= bx*ax-by*ay;\n                Ajy[k] -= by*ax+bx*ay;\n            }\n            for(k=0;k<n;k++) {\n                bx = Rix[k]; by = Riy[k];\n                Rjx[k] -= bx*ax-by*ay;\n                Rjy[k] -= by*ax+bx*ay;\n            }\n        }\n    }\n    for(i=n-1;i>0;i--) {\n        Rix = Rx[i]; Riy = Ry[i];\n        for(j=i-1;j>=0;j--) {\n            Rjx = Rx[j]; Rjy = Ry[j];\n            ax = Ax[j][i]; ay = Ay[j][i];\n            for(k=n-1;k>=0;k--) {\n                bx = Rix[k]; by = Riy[k];\n                Rjx[k] -= ax*bx - ay*by;\n                Rjy[k] -= ax*by + ay*bx;\n            }\n        }\n    }\n    return new numeric.T(Rx,Ry);\n}\nnumeric.T.prototype.get = function get(i) {\n    var x = this.x, y = this.y, k = 0, ik, n = i.length;\n    if(y) {\n        while(k<n) {\n            ik = i[k];\n            x = x[ik];\n            y = y[ik];\n            k++;\n        }\n        return new numeric.T(x,y);\n    }\n    while(k<n) {\n        ik = i[k];\n        x = x[ik];\n        k++;\n    }\n    return new numeric.T(x);\n}\nnumeric.T.prototype.set = function set(i,v) {\n    var x = this.x, y = this.y, k = 0, ik, n = i.length, vx = v.x, vy = v.y;\n    if(n===0) {\n        if(vy) { this.y = vy; }\n        else if(y) { this.y = undefined; }\n        this.x = x;\n        return this;\n    }\n    if(vy) {\n        if(y) { /* ok */ }\n        else {\n            y = numeric.rep(numeric.dim(x),0);\n            this.y = y;\n        }\n        while(k<n-1) {\n            ik = i[k];\n            x = x[ik];\n            y = y[ik];\n            k++;\n        }\n        ik = i[k];\n        x[ik] = vx;\n        y[ik] = vy;\n        return this;\n    }\n    if(y) {\n        while(k<n-1) {\n            ik = i[k];\n            x = x[ik];\n            y = y[ik];\n            k++;\n        }\n        ik = i[k];\n        x[ik] = vx;\n        if(vx instanceof Array) y[ik] = numeric.rep(numeric.dim(vx),0);\n        else y[ik] = 0;\n        return this;\n    }\n    while(k<n-1) {\n        ik = i[k];\n        x = x[ik];\n        k++;\n    }\n    ik = i[k];\n    x[ik] = vx;\n    return this;\n}\nnumeric.T.prototype.getRows = function getRows(i0,i1) {\n    var n = i1-i0+1, j;\n    var rx = Array(n), ry, x = this.x, y = this.y;\n    for(j=i0;j<=i1;j++) { rx[j-i0] = x[j]; }\n    if(y) {\n        ry = Array(n);\n        for(j=i0;j<=i1;j++) { ry[j-i0] = y[j]; }\n        return new numeric.T(rx,ry);\n    }\n    return new numeric.T(rx);\n}\nnumeric.T.prototype.setRows = function setRows(i0,i1,A) {\n    var j;\n    var rx = this.x, ry = this.y, x = A.x, y = A.y;\n    for(j=i0;j<=i1;j++) { rx[j] = x[j-i0]; }\n    if(y) {\n        if(!ry) { ry = numeric.rep(numeric.dim(rx),0); this.y = ry; }\n        for(j=i0;j<=i1;j++) { ry[j] = y[j-i0]; }\n    } else if(ry) {\n        for(j=i0;j<=i1;j++) { ry[j] = numeric.rep([x[j-i0].length],0); }\n    }\n    return this;\n}\nnumeric.T.prototype.getRow = function getRow(k) {\n    var x = this.x, y = this.y;\n    if(y) { return new numeric.T(x[k],y[k]); }\n    return new numeric.T(x[k]);\n}\nnumeric.T.prototype.setRow = function setRow(i,v) {\n    var rx = this.x, ry = this.y, x = v.x, y = v.y;\n    rx[i] = x;\n    if(y) {\n        if(!ry) { ry = numeric.rep(numeric.dim(rx),0); this.y = ry; }\n        ry[i] = y;\n    } else if(ry) {\n        ry = numeric.rep([x.length],0);\n    }\n    return this;\n}\n\nnumeric.T.prototype.getBlock = function getBlock(from,to) {\n    var x = this.x, y = this.y, b = numeric.getBlock;\n    if(y) { return new numeric.T(b(x,from,to),b(y,from,to)); }\n    return new numeric.T(b(x,from,to));\n}\nnumeric.T.prototype.setBlock = function setBlock(from,to,A) {\n    if(!(A instanceof numeric.T)) A = new numeric.T(A);\n    var x = this.x, y = this.y, b = numeric.setBlock, Ax = A.x, Ay = A.y;\n    if(Ay) {\n        if(!y) { this.y = numeric.rep(numeric.dim(this),0); y = this.y; }\n        b(x,from,to,Ax);\n        b(y,from,to,Ay);\n        return this;\n    }\n    b(x,from,to,Ax);\n    if(y) b(y,from,to,numeric.rep(numeric.dim(Ax),0));\n}\nnumeric.T.rep = function rep(s,v) {\n    var T = numeric.T;\n    if(!(v instanceof T)) v = new T(v);\n    var x = v.x, y = v.y, r = numeric.rep;\n    if(y) return new T(r(s,x),r(s,y));\n    return new T(r(s,x));\n}\nnumeric.T.diag = function diag(d) {\n    if(!(d instanceof numeric.T)) d = new numeric.T(d);\n    var x = d.x, y = d.y, diag = numeric.diag;\n    if(y) return new numeric.T(diag(x),diag(y));\n    return new numeric.T(diag(x));\n}\nnumeric.T.eig = function eig() {\n    if(this.y) { throw new Error('eig: not implemented for complex matrices.'); }\n    return numeric.eig(this.x);\n}\nnumeric.T.identity = function identity(n) { return new numeric.T(numeric.identity(n)); }\nnumeric.T.prototype.getDiag = function getDiag() {\n    var n = numeric;\n    var x = this.x, y = this.y;\n    if(y) { return new n.T(n.getDiag(x),n.getDiag(y)); }\n    return new n.T(n.getDiag(x));\n}\n\n// 4. Eigenvalues of real matrices\n\nnumeric.house = function house(x) {\n    var v = numeric.clone(x);\n    var s = x[0] >= 0 ? 1 : -1;\n    var alpha = s*numeric.norm2(x);\n    v[0] += alpha;\n    var foo = numeric.norm2(v);\n    if(foo === 0) { /* this should not happen */ throw new Error('eig: internal error'); }\n    return numeric.div(v,foo);\n}\n\nnumeric.toUpperHessenberg = function toUpperHessenberg(me) {\n    var s = numeric.dim(me);\n    if(s.length !== 2 || s[0] !== s[1]) { throw new Error('numeric: toUpperHessenberg() only works on square matrices'); }\n    var m = s[0], i,j,k,x,v,A = numeric.clone(me),B,C,Ai,Ci,Q = numeric.identity(m),Qi;\n    for(j=0;j<m-2;j++) {\n        x = Array(m-j-1);\n        for(i=j+1;i<m;i++) { x[i-j-1] = A[i][j]; }\n        if(numeric.norm2(x)>0) {\n            v = numeric.house(x);\n            B = numeric.getBlock(A,[j+1,j],[m-1,m-1]);\n            C = numeric.tensor(v,numeric.dot(v,B));\n            for(i=j+1;i<m;i++) { Ai = A[i]; Ci = C[i-j-1]; for(k=j;k<m;k++) Ai[k] -= 2*Ci[k-j]; }\n            B = numeric.getBlock(A,[0,j+1],[m-1,m-1]);\n            C = numeric.tensor(numeric.dot(B,v),v);\n            for(i=0;i<m;i++) { Ai = A[i]; Ci = C[i]; for(k=j+1;k<m;k++) Ai[k] -= 2*Ci[k-j-1]; }\n            B = Array(m-j-1);\n            for(i=j+1;i<m;i++) B[i-j-1] = Q[i];\n            C = numeric.tensor(v,numeric.dot(v,B));\n            for(i=j+1;i<m;i++) { Qi = Q[i]; Ci = C[i-j-1]; for(k=0;k<m;k++) Qi[k] -= 2*Ci[k]; }\n        }\n    }\n    return {H:A, Q:Q};\n}\n\nnumeric.epsilon = 2.220446049250313e-16;\n\nnumeric.QRFrancis = function(H,maxiter) {\n    if(typeof maxiter === \"undefined\") { maxiter = 10000; }\n    H = numeric.clone(H);\n    var H0 = numeric.clone(H);\n    var s = numeric.dim(H),m=s[0],x,v,a,b,c,d,det,tr, Hloc, Q = numeric.identity(m), Qi, Hi, B, C, Ci,i,j,k,iter;\n    if(m<3) { return {Q:Q, B:[ [0,m-1] ]}; }\n    var epsilon = numeric.epsilon;\n    for(iter=0;iter<maxiter;iter++) {\n        for(j=0;j<m-1;j++) {\n            if(Math.abs(H[j+1][j]) < epsilon*(Math.abs(H[j][j])+Math.abs(H[j+1][j+1]))) {\n                var QH1 = numeric.QRFrancis(numeric.getBlock(H,[0,0],[j,j]),maxiter);\n                var QH2 = numeric.QRFrancis(numeric.getBlock(H,[j+1,j+1],[m-1,m-1]),maxiter);\n                B = Array(j+1);\n                for(i=0;i<=j;i++) { B[i] = Q[i]; }\n                C = numeric.dot(QH1.Q,B);\n                for(i=0;i<=j;i++) { Q[i] = C[i]; }\n                B = Array(m-j-1);\n                for(i=j+1;i<m;i++) { B[i-j-1] = Q[i]; }\n                C = numeric.dot(QH2.Q,B);\n                for(i=j+1;i<m;i++) { Q[i] = C[i-j-1]; }\n                return {Q:Q,B:QH1.B.concat(numeric.add(QH2.B,j+1))};\n            }\n        }\n        a = H[m-2][m-2]; b = H[m-2][m-1];\n        c = H[m-1][m-2]; d = H[m-1][m-1];\n        tr = a+d;\n        det = (a*d-b*c);\n        Hloc = numeric.getBlock(H, [0,0], [2,2]);\n        if(tr*tr>=4*det) {\n            var s1,s2;\n            s1 = 0.5*(tr+Math.sqrt(tr*tr-4*det));\n            s2 = 0.5*(tr-Math.sqrt(tr*tr-4*det));\n            Hloc = numeric.add(numeric.sub(numeric.dot(Hloc,Hloc),\n                                           numeric.mul(Hloc,s1+s2)),\n                               numeric.diag(numeric.rep([3],s1*s2)));\n        } else {\n            Hloc = numeric.add(numeric.sub(numeric.dot(Hloc,Hloc),\n                                           numeric.mul(Hloc,tr)),\n                               numeric.diag(numeric.rep([3],det)));\n        }\n        x = [Hloc[0][0],Hloc[1][0],Hloc[2][0]];\n        v = numeric.house(x);\n        B = [H[0],H[1],H[2]];\n        C = numeric.tensor(v,numeric.dot(v,B));\n        for(i=0;i<3;i++) { Hi = H[i]; Ci = C[i]; for(k=0;k<m;k++) Hi[k] -= 2*Ci[k]; }\n        B = numeric.getBlock(H, [0,0],[m-1,2]);\n        C = numeric.tensor(numeric.dot(B,v),v);\n        for(i=0;i<m;i++) { Hi = H[i]; Ci = C[i]; for(k=0;k<3;k++) Hi[k] -= 2*Ci[k]; }\n        B = [Q[0],Q[1],Q[2]];\n        C = numeric.tensor(v,numeric.dot(v,B));\n        for(i=0;i<3;i++) { Qi = Q[i]; Ci = C[i]; for(k=0;k<m;k++) Qi[k] -= 2*Ci[k]; }\n        var J;\n        for(j=0;j<m-2;j++) {\n            for(k=j;k<=j+1;k++) {\n                if(Math.abs(H[k+1][k]) < epsilon*(Math.abs(H[k][k])+Math.abs(H[k+1][k+1]))) {\n                    var QH1 = numeric.QRFrancis(numeric.getBlock(H,[0,0],[k,k]),maxiter);\n                    var QH2 = numeric.QRFrancis(numeric.getBlock(H,[k+1,k+1],[m-1,m-1]),maxiter);\n                    B = Array(k+1);\n                    for(i=0;i<=k;i++) { B[i] = Q[i]; }\n                    C = numeric.dot(QH1.Q,B);\n                    for(i=0;i<=k;i++) { Q[i] = C[i]; }\n                    B = Array(m-k-1);\n                    for(i=k+1;i<m;i++) { B[i-k-1] = Q[i]; }\n                    C = numeric.dot(QH2.Q,B);\n                    for(i=k+1;i<m;i++) { Q[i] = C[i-k-1]; }\n                    return {Q:Q,B:QH1.B.concat(numeric.add(QH2.B,k+1))};\n                }\n            }\n            J = Math.min(m-1,j+3);\n            x = Array(J-j);\n            for(i=j+1;i<=J;i++) { x[i-j-1] = H[i][j]; }\n            v = numeric.house(x);\n            B = numeric.getBlock(H, [j+1,j],[J,m-1]);\n            C = numeric.tensor(v,numeric.dot(v,B));\n            for(i=j+1;i<=J;i++) { Hi = H[i]; Ci = C[i-j-1]; for(k=j;k<m;k++) Hi[k] -= 2*Ci[k-j]; }\n            B = numeric.getBlock(H, [0,j+1],[m-1,J]);\n            C = numeric.tensor(numeric.dot(B,v),v);\n            for(i=0;i<m;i++) { Hi = H[i]; Ci = C[i]; for(k=j+1;k<=J;k++) Hi[k] -= 2*Ci[k-j-1]; }\n            B = Array(J-j);\n            for(i=j+1;i<=J;i++) B[i-j-1] = Q[i];\n            C = numeric.tensor(v,numeric.dot(v,B));\n            for(i=j+1;i<=J;i++) { Qi = Q[i]; Ci = C[i-j-1]; for(k=0;k<m;k++) Qi[k] -= 2*Ci[k]; }\n        }\n    }\n    throw new Error('numeric: eigenvalue iteration does not converge -- increase maxiter?');\n}\n\nnumeric.eig = function eig(A,maxiter) {\n    var QH = numeric.toUpperHessenberg(A);\n    var QB = numeric.QRFrancis(QH.H,maxiter);\n    var T = numeric.T;\n    var n = A.length,i,k,flag = false,B = QB.B,H = numeric.dot(QB.Q,numeric.dot(QH.H,numeric.transpose(QB.Q)));\n    var Q = new T(numeric.dot(QB.Q,QH.Q)),Q0;\n    var m = B.length,j;\n    var a,b,c,d,p1,p2,disc,x,y,p,q,n1,n2;\n    var sqrt = Math.sqrt;\n    for(k=0;k<m;k++) {\n        i = B[k][0];\n        if(i === B[k][1]) {\n            // nothing\n        } else {\n            j = i+1;\n            a = H[i][i];\n            b = H[i][j];\n            c = H[j][i];\n            d = H[j][j];\n            if(b === 0 && c === 0) continue;\n            p1 = -a-d;\n            p2 = a*d-b*c;\n            disc = p1*p1-4*p2;\n            if(disc>=0) {\n                if(p1<0) x = -0.5*(p1-sqrt(disc));\n                else     x = -0.5*(p1+sqrt(disc));\n                n1 = (a-x)*(a-x)+b*b;\n                n2 = c*c+(d-x)*(d-x);\n                if(n1>n2) {\n                    n1 = sqrt(n1);\n                    p = (a-x)/n1;\n                    q = b/n1;\n                } else {\n                    n2 = sqrt(n2);\n                    p = c/n2;\n                    q = (d-x)/n2;\n                }\n                Q0 = new T([[q,-p],[p,q]]);\n                Q.setRows(i,j,Q0.dot(Q.getRows(i,j)));\n            } else {\n                x = -0.5*p1;\n                y = 0.5*sqrt(-disc);\n                n1 = (a-x)*(a-x)+b*b;\n                n2 = c*c+(d-x)*(d-x);\n                if(n1>n2) {\n                    n1 = sqrt(n1+y*y);\n                    p = (a-x)/n1;\n                    q = b/n1;\n                    x = 0;\n                    y /= n1;\n                } else {\n                    n2 = sqrt(n2+y*y);\n                    p = c/n2;\n                    q = (d-x)/n2;\n                    x = y/n2;\n                    y = 0;\n                }\n                Q0 = new T([[q,-p],[p,q]],[[x,y],[y,-x]]);\n                Q.setRows(i,j,Q0.dot(Q.getRows(i,j)));\n            }\n        }\n    }\n    var R = Q.dot(A).dot(Q.transjugate()), n = A.length, E = numeric.T.identity(n);\n    for(j=0;j<n;j++) {\n        if(j>0) {\n            for(k=j-1;k>=0;k--) {\n                var Rk = R.get([k,k]), Rj = R.get([j,j]);\n                if(numeric.neq(Rk.x,Rj.x) || numeric.neq(Rk.y,Rj.y)) {\n                    x = R.getRow(k).getBlock([k],[j-1]);\n                    y = E.getRow(j).getBlock([k],[j-1]);\n                    E.set([j,k],(R.get([k,j]).neg().sub(x.dot(y))).div(Rk.sub(Rj)));\n                } else {\n                    E.setRow(j,E.getRow(k));\n                    continue;\n                }\n            }\n        }\n    }\n    for(j=0;j<n;j++) {\n        x = E.getRow(j);\n        E.setRow(j,x.div(x.norm2()));\n    }\n    E = E.transpose();\n    E = Q.transjugate().dot(E);\n    return { lambda:R.getDiag(), E:E };\n};\n\n// 5. Compressed Column Storage matrices\nnumeric.ccsSparse = function ccsSparse(A) {\n    var m = A.length,n,foo, i,j, counts = [];\n    for(i=m-1;i!==-1;--i) {\n        foo = A[i];\n        for(j in foo) {\n            j = parseInt(j);\n            while(j>=counts.length) counts[counts.length] = 0;\n            if(foo[j]!==0) counts[j]++;\n        }\n    }\n    var n = counts.length;\n    var Ai = Array(n+1);\n    Ai[0] = 0;\n    for(i=0;i<n;++i) Ai[i+1] = Ai[i] + counts[i];\n    var Aj = Array(Ai[n]), Av = Array(Ai[n]);\n    for(i=m-1;i!==-1;--i) {\n        foo = A[i];\n        for(j in foo) {\n            if(foo[j]!==0) {\n                counts[j]--;\n                Aj[Ai[j]+counts[j]] = i;\n                Av[Ai[j]+counts[j]] = foo[j];\n            }\n        }\n    }\n    return [Ai,Aj,Av];\n}\nnumeric.ccsFull = function ccsFull(A) {\n    var Ai = A[0], Aj = A[1], Av = A[2], s = numeric.ccsDim(A), m = s[0], n = s[1], i,j,j0,j1,k;\n    var B = numeric.rep([m,n],0);\n    for(i=0;i<n;i++) {\n        j0 = Ai[i];\n        j1 = Ai[i+1];\n        for(j=j0;j<j1;++j) { B[Aj[j]][i] = Av[j]; }\n    }\n    return B;\n}\nnumeric.ccsTSolve = function ccsTSolve(A,b,x,bj,xj) {\n    var Ai = A[0], Aj = A[1], Av = A[2],m = Ai.length-1, max = Math.max,n=0;\n    if(typeof bj === \"undefined\") x = numeric.rep([m],0);\n    if(typeof bj === \"undefined\") bj = numeric.linspace(0,x.length-1);\n    if(typeof xj === \"undefined\") xj = [];\n    function dfs(j) {\n        var k;\n        if(x[j] !== 0) return;\n        x[j] = 1;\n        for(k=Ai[j];k<Ai[j+1];++k) dfs(Aj[k]);\n        xj[n] = j;\n        ++n;\n    }\n    var i,j,j0,j1,k,l,l0,l1,a;\n    for(i=bj.length-1;i!==-1;--i) { dfs(bj[i]); }\n    xj.length = n;\n    for(i=xj.length-1;i!==-1;--i) { x[xj[i]] = 0; }\n    for(i=bj.length-1;i!==-1;--i) { j = bj[i]; x[j] = b[j]; }\n    for(i=xj.length-1;i!==-1;--i) {\n        j = xj[i];\n        j0 = Ai[j];\n        j1 = max(Ai[j+1],j0);\n        for(k=j0;k!==j1;++k) { if(Aj[k] === j) { x[j] /= Av[k]; break; } }\n        a = x[j];\n        for(k=j0;k!==j1;++k) {\n            l = Aj[k];\n            if(l !== j) x[l] -= a*Av[k];\n        }\n    }\n    return x;\n}\nnumeric.ccsDFS = function ccsDFS(n) {\n    this.k = Array(n);\n    this.k1 = Array(n);\n    this.j = Array(n);\n}\nnumeric.ccsDFS.prototype.dfs = function dfs(J,Ai,Aj,x,xj,Pinv) {\n    var m = 0,foo,n=xj.length;\n    var k = this.k, k1 = this.k1, j = this.j,km,k11;\n    if(x[J]!==0) return;\n    x[J] = 1;\n    j[0] = J;\n    k[0] = km = Ai[J];\n    k1[0] = k11 = Ai[J+1];\n    while(1) {\n        if(km >= k11) {\n            xj[n] = j[m];\n            if(m===0) return;\n            ++n;\n            --m;\n            km = k[m];\n            k11 = k1[m];\n        } else {\n            foo = Pinv[Aj[km]];\n            if(x[foo] === 0) {\n                x[foo] = 1;\n                k[m] = km;\n                ++m;\n                j[m] = foo;\n                km = Ai[foo];\n                k1[m] = k11 = Ai[foo+1];\n            } else ++km;\n        }\n    }\n}\nnumeric.ccsLPSolve = function ccsLPSolve(A,B,x,xj,I,Pinv,dfs) {\n    var Ai = A[0], Aj = A[1], Av = A[2],m = Ai.length-1, n=0;\n    var Bi = B[0], Bj = B[1], Bv = B[2];\n    \n    var i,i0,i1,j,J,j0,j1,k,l,l0,l1,a;\n    i0 = Bi[I];\n    i1 = Bi[I+1];\n    xj.length = 0;\n    for(i=i0;i<i1;++i) { dfs.dfs(Pinv[Bj[i]],Ai,Aj,x,xj,Pinv); }\n    for(i=xj.length-1;i!==-1;--i) { x[xj[i]] = 0; }\n    for(i=i0;i!==i1;++i) { j = Pinv[Bj[i]]; x[j] = Bv[i]; }\n    for(i=xj.length-1;i!==-1;--i) {\n        j = xj[i];\n        j0 = Ai[j];\n        j1 = Ai[j+1];\n        for(k=j0;k<j1;++k) { if(Pinv[Aj[k]] === j) { x[j] /= Av[k]; break; } }\n        a = x[j];\n        for(k=j0;k<j1;++k) {\n            l = Pinv[Aj[k]];\n            if(l !== j) x[l] -= a*Av[k];\n        }\n    }\n    return x;\n}\nnumeric.ccsLUP1 = function ccsLUP1(A,threshold) {\n    var m = A[0].length-1;\n    var L = [numeric.rep([m+1],0),[],[]], U = [numeric.rep([m+1], 0),[],[]];\n    var Li = L[0], Lj = L[1], Lv = L[2], Ui = U[0], Uj = U[1], Uv = U[2];\n    var x = numeric.rep([m],0), xj = numeric.rep([m],0);\n    var i,j,k,j0,j1,a,e,c,d,K;\n    var sol = numeric.ccsLPSolve, max = Math.max, abs = Math.abs;\n    var P = numeric.linspace(0,m-1),Pinv = numeric.linspace(0,m-1);\n    var dfs = new numeric.ccsDFS(m);\n    if(typeof threshold === \"undefined\") { threshold = 1; }\n    for(i=0;i<m;++i) {\n        sol(L,A,x,xj,i,Pinv,dfs);\n        a = -1;\n        e = -1;\n        for(j=xj.length-1;j!==-1;--j) {\n            k = xj[j];\n            if(k <= i) continue;\n            c = abs(x[k]);\n            if(c > a) { e = k; a = c; }\n        }\n        if(abs(x[i])<threshold*a) {\n            j = P[i];\n            a = P[e];\n            P[i] = a; Pinv[a] = i;\n            P[e] = j; Pinv[j] = e;\n            a = x[i]; x[i] = x[e]; x[e] = a;\n        }\n        a = Li[i];\n        e = Ui[i];\n        d = x[i];\n        Lj[a] = P[i];\n        Lv[a] = 1;\n        ++a;\n        for(j=xj.length-1;j!==-1;--j) {\n            k = xj[j];\n            c = x[k];\n            xj[j] = 0;\n            x[k] = 0;\n            if(k<=i) { Uj[e] = k; Uv[e] = c;   ++e; }\n            else     { Lj[a] = P[k]; Lv[a] = c/d; ++a; }\n        }\n        Li[i+1] = a;\n        Ui[i+1] = e;\n    }\n    for(j=Lj.length-1;j!==-1;--j) { Lj[j] = Pinv[Lj[j]]; }\n    return {L:L, U:U, P:P, Pinv:Pinv};\n}\nnumeric.ccsDFS0 = function ccsDFS0(n) {\n    this.k = Array(n);\n    this.k1 = Array(n);\n    this.j = Array(n);\n}\nnumeric.ccsDFS0.prototype.dfs = function dfs(J,Ai,Aj,x,xj,Pinv,P) {\n    var m = 0,foo,n=xj.length;\n    var k = this.k, k1 = this.k1, j = this.j,km,k11;\n    if(x[J]!==0) return;\n    x[J] = 1;\n    j[0] = J;\n    k[0] = km = Ai[Pinv[J]];\n    k1[0] = k11 = Ai[Pinv[J]+1];\n    while(1) {\n        if(isNaN(km)) throw new Error(\"Ow!\");\n        if(km >= k11) {\n            xj[n] = Pinv[j[m]];\n            if(m===0) return;\n            ++n;\n            --m;\n            km = k[m];\n            k11 = k1[m];\n        } else {\n            foo = Aj[km];\n            if(x[foo] === 0) {\n                x[foo] = 1;\n                k[m] = km;\n                ++m;\n                j[m] = foo;\n                foo = Pinv[foo];\n                km = Ai[foo];\n                k1[m] = k11 = Ai[foo+1];\n            } else ++km;\n        }\n    }\n}\nnumeric.ccsLPSolve0 = function ccsLPSolve0(A,B,y,xj,I,Pinv,P,dfs) {\n    var Ai = A[0], Aj = A[1], Av = A[2],m = Ai.length-1, n=0;\n    var Bi = B[0], Bj = B[1], Bv = B[2];\n    \n    var i,i0,i1,j,J,j0,j1,k,l,l0,l1,a;\n    i0 = Bi[I];\n    i1 = Bi[I+1];\n    xj.length = 0;\n    for(i=i0;i<i1;++i) { dfs.dfs(Bj[i],Ai,Aj,y,xj,Pinv,P); }\n    for(i=xj.length-1;i!==-1;--i) { j = xj[i]; y[P[j]] = 0; }\n    for(i=i0;i!==i1;++i) { j = Bj[i]; y[j] = Bv[i]; }\n    for(i=xj.length-1;i!==-1;--i) {\n        j = xj[i];\n        l = P[j];\n        j0 = Ai[j];\n        j1 = Ai[j+1];\n        for(k=j0;k<j1;++k) { if(Aj[k] === l) { y[l] /= Av[k]; break; } }\n        a = y[l];\n        for(k=j0;k<j1;++k) y[Aj[k]] -= a*Av[k];\n        y[l] = a;\n    }\n}\nnumeric.ccsLUP0 = function ccsLUP0(A,threshold) {\n    var m = A[0].length-1;\n    var L = [numeric.rep([m+1],0),[],[]], U = [numeric.rep([m+1], 0),[],[]];\n    var Li = L[0], Lj = L[1], Lv = L[2], Ui = U[0], Uj = U[1], Uv = U[2];\n    var y = numeric.rep([m],0), xj = numeric.rep([m],0);\n    var i,j,k,j0,j1,a,e,c,d,K;\n    var sol = numeric.ccsLPSolve0, max = Math.max, abs = Math.abs;\n    var P = numeric.linspace(0,m-1),Pinv = numeric.linspace(0,m-1);\n    var dfs = new numeric.ccsDFS0(m);\n    if(typeof threshold === \"undefined\") { threshold = 1; }\n    for(i=0;i<m;++i) {\n        sol(L,A,y,xj,i,Pinv,P,dfs);\n        a = -1;\n        e = -1;\n        for(j=xj.length-1;j!==-1;--j) {\n            k = xj[j];\n            if(k <= i) continue;\n            c = abs(y[P[k]]);\n            if(c > a) { e = k; a = c; }\n        }\n        if(abs(y[P[i]])<threshold*a) {\n            j = P[i];\n            a = P[e];\n            P[i] = a; Pinv[a] = i;\n            P[e] = j; Pinv[j] = e;\n        }\n        a = Li[i];\n        e = Ui[i];\n        d = y[P[i]];\n        Lj[a] = P[i];\n        Lv[a] = 1;\n        ++a;\n        for(j=xj.length-1;j!==-1;--j) {\n            k = xj[j];\n            c = y[P[k]];\n            xj[j] = 0;\n            y[P[k]] = 0;\n            if(k<=i) { Uj[e] = k; Uv[e] = c;   ++e; }\n            else     { Lj[a] = P[k]; Lv[a] = c/d; ++a; }\n        }\n        Li[i+1] = a;\n        Ui[i+1] = e;\n    }\n    for(j=Lj.length-1;j!==-1;--j) { Lj[j] = Pinv[Lj[j]]; }\n    return {L:L, U:U, P:P, Pinv:Pinv};\n}\nnumeric.ccsLUP = numeric.ccsLUP0;\n\nnumeric.ccsDim = function ccsDim(A) { return [numeric.sup(A[1])+1,A[0].length-1]; }\nnumeric.ccsGetBlock = function ccsGetBlock(A,i,j) {\n    var s = numeric.ccsDim(A),m=s[0],n=s[1];\n    if(typeof i === \"undefined\") { i = numeric.linspace(0,m-1); }\n    else if(typeof i === \"number\") { i = [i]; }\n    if(typeof j === \"undefined\") { j = numeric.linspace(0,n-1); }\n    else if(typeof j === \"number\") { j = [j]; }\n    var p,p0,p1,P = i.length,q,Q = j.length,r,jq,ip;\n    var Bi = numeric.rep([n],0), Bj=[], Bv=[], B = [Bi,Bj,Bv];\n    var Ai = A[0], Aj = A[1], Av = A[2];\n    var x = numeric.rep([m],0),count=0,flags = numeric.rep([m],0);\n    for(q=0;q<Q;++q) {\n        jq = j[q];\n        var q0 = Ai[jq];\n        var q1 = Ai[jq+1];\n        for(p=q0;p<q1;++p) {\n            r = Aj[p];\n            flags[r] = 1;\n            x[r] = Av[p];\n        }\n        for(p=0;p<P;++p) {\n            ip = i[p];\n            if(flags[ip]) {\n                Bj[count] = p;\n                Bv[count] = x[i[p]];\n                ++count;\n            }\n        }\n        for(p=q0;p<q1;++p) {\n            r = Aj[p];\n            flags[r] = 0;\n        }\n        Bi[q+1] = count;\n    }\n    return B;\n}\n\nnumeric.ccsDot = function ccsDot(A,B) {\n    var Ai = A[0], Aj = A[1], Av = A[2];\n    var Bi = B[0], Bj = B[1], Bv = B[2];\n    var sA = numeric.ccsDim(A), sB = numeric.ccsDim(B);\n    var m = sA[0], n = sA[1], o = sB[1];\n    var x = numeric.rep([m],0), flags = numeric.rep([m],0), xj = Array(m);\n    var Ci = numeric.rep([o],0), Cj = [], Cv = [], C = [Ci,Cj,Cv];\n    var i,j,k,j0,j1,i0,i1,l,p,a,b;\n    for(k=0;k!==o;++k) {\n        j0 = Bi[k];\n        j1 = Bi[k+1];\n        p = 0;\n        for(j=j0;j<j1;++j) {\n            a = Bj[j];\n            b = Bv[j];\n            i0 = Ai[a];\n            i1 = Ai[a+1];\n            for(i=i0;i<i1;++i) {\n                l = Aj[i];\n                if(flags[l]===0) {\n                    xj[p] = l;\n                    flags[l] = 1;\n                    p = p+1;\n                }\n                x[l] = x[l] + Av[i]*b;\n            }\n        }\n        j0 = Ci[k];\n        j1 = j0+p;\n        Ci[k+1] = j1;\n        for(j=p-1;j!==-1;--j) {\n            b = j0+j;\n            i = xj[j];\n            Cj[b] = i;\n            Cv[b] = x[i];\n            flags[i] = 0;\n            x[i] = 0;\n        }\n        Ci[k+1] = Ci[k]+p;\n    }\n    return C;\n}\n\nnumeric.ccsLUPSolve = function ccsLUPSolve(LUP,B) {\n    var L = LUP.L, U = LUP.U, P = LUP.P;\n    var Bi = B[0];\n    var flag = false;\n    if(typeof Bi !== \"object\") { B = [[0,B.length],numeric.linspace(0,B.length-1),B]; Bi = B[0]; flag = true; }\n    var Bj = B[1], Bv = B[2];\n    var n = L[0].length-1, m = Bi.length-1;\n    var x = numeric.rep([n],0), xj = Array(n);\n    var b = numeric.rep([n],0), bj = Array(n);\n    var Xi = numeric.rep([m+1],0), Xj = [], Xv = [];\n    var sol = numeric.ccsTSolve;\n    var i,j,j0,j1,k,J,N=0;\n    for(i=0;i<m;++i) {\n        k = 0;\n        j0 = Bi[i];\n        j1 = Bi[i+1];\n        for(j=j0;j<j1;++j) { \n            J = LUP.Pinv[Bj[j]];\n            bj[k] = J;\n            b[J] = Bv[j];\n            ++k;\n        }\n        bj.length = k;\n        sol(L,b,x,bj,xj);\n        for(j=bj.length-1;j!==-1;--j) b[bj[j]] = 0;\n        sol(U,x,b,xj,bj);\n        if(flag) return b;\n        for(j=xj.length-1;j!==-1;--j) x[xj[j]] = 0;\n        for(j=bj.length-1;j!==-1;--j) {\n            J = bj[j];\n            Xj[N] = J;\n            Xv[N] = b[J];\n            b[J] = 0;\n            ++N;\n        }\n        Xi[i+1] = N;\n    }\n    return [Xi,Xj,Xv];\n}\n\nnumeric.ccsbinop = function ccsbinop(body,setup) {\n    if(typeof setup === \"undefined\") setup='';\n    return Function('X','Y',\n            'var Xi = X[0], Xj = X[1], Xv = X[2];\\n'+\n            'var Yi = Y[0], Yj = Y[1], Yv = Y[2];\\n'+\n            'var n = Xi.length-1,m = Math.max(numeric.sup(Xj),numeric.sup(Yj))+1;\\n'+\n            'var Zi = numeric.rep([n+1],0), Zj = [], Zv = [];\\n'+\n            'var x = numeric.rep([m],0),y = numeric.rep([m],0);\\n'+\n            'var xk,yk,zk;\\n'+\n            'var i,j,j0,j1,k,p=0;\\n'+\n            setup+\n            'for(i=0;i<n;++i) {\\n'+\n            '  j0 = Xi[i]; j1 = Xi[i+1];\\n'+\n            '  for(j=j0;j!==j1;++j) {\\n'+\n            '    k = Xj[j];\\n'+\n            '    x[k] = 1;\\n'+\n            '    Zj[p] = k;\\n'+\n            '    ++p;\\n'+\n            '  }\\n'+\n            '  j0 = Yi[i]; j1 = Yi[i+1];\\n'+\n            '  for(j=j0;j!==j1;++j) {\\n'+\n            '    k = Yj[j];\\n'+\n            '    y[k] = Yv[j];\\n'+\n            '    if(x[k] === 0) {\\n'+\n            '      Zj[p] = k;\\n'+\n            '      ++p;\\n'+\n            '    }\\n'+\n            '  }\\n'+\n            '  Zi[i+1] = p;\\n'+\n            '  j0 = Xi[i]; j1 = Xi[i+1];\\n'+\n            '  for(j=j0;j!==j1;++j) x[Xj[j]] = Xv[j];\\n'+\n            '  j0 = Zi[i]; j1 = Zi[i+1];\\n'+\n            '  for(j=j0;j!==j1;++j) {\\n'+\n            '    k = Zj[j];\\n'+\n            '    xk = x[k];\\n'+\n            '    yk = y[k];\\n'+\n            body+'\\n'+\n            '    Zv[j] = zk;\\n'+\n            '  }\\n'+\n            '  j0 = Xi[i]; j1 = Xi[i+1];\\n'+\n            '  for(j=j0;j!==j1;++j) x[Xj[j]] = 0;\\n'+\n            '  j0 = Yi[i]; j1 = Yi[i+1];\\n'+\n            '  for(j=j0;j!==j1;++j) y[Yj[j]] = 0;\\n'+\n            '}\\n'+\n            'return [Zi,Zj,Zv];'\n            );\n};\n\n(function() {\n    var k,A,B,C;\n    for(k in numeric.ops2) {\n        if(isFinite(eval('1'+numeric.ops2[k]+'0'))) A = '[Y[0],Y[1],numeric.'+k+'(X,Y[2])]';\n        else A = 'NaN';\n        if(isFinite(eval('0'+numeric.ops2[k]+'1'))) B = '[X[0],X[1],numeric.'+k+'(X[2],Y)]';\n        else B = 'NaN';\n        if(isFinite(eval('1'+numeric.ops2[k]+'0')) && isFinite(eval('0'+numeric.ops2[k]+'1'))) C = 'numeric.ccs'+k+'MM(X,Y)';\n        else C = 'NaN';\n        numeric['ccs'+k+'MM'] = numeric.ccsbinop('zk = xk '+numeric.ops2[k]+'yk;');\n        numeric['ccs'+k] = Function('X','Y',\n                'if(typeof X === \"number\") return '+A+';\\n'+\n                'if(typeof Y === \"number\") return '+B+';\\n'+\n                'return '+C+';\\n'\n                );\n    }\n}());\n\nnumeric.ccsScatter = function ccsScatter(A) {\n    var Ai = A[0], Aj = A[1], Av = A[2];\n    var n = numeric.sup(Aj)+1,m=Ai.length;\n    var Ri = numeric.rep([n],0),Rj=Array(m), Rv = Array(m);\n    var counts = numeric.rep([n],0),i;\n    for(i=0;i<m;++i) counts[Aj[i]]++;\n    for(i=0;i<n;++i) Ri[i+1] = Ri[i] + counts[i];\n    var ptr = Ri.slice(0),k,Aii;\n    for(i=0;i<m;++i) {\n        Aii = Aj[i];\n        k = ptr[Aii];\n        Rj[k] = Ai[i];\n        Rv[k] = Av[i];\n        ptr[Aii]=ptr[Aii]+1;\n    }\n    return [Ri,Rj,Rv];\n}\n\nnumeric.ccsGather = function ccsGather(A) {\n    var Ai = A[0], Aj = A[1], Av = A[2];\n    var n = Ai.length-1,m = Aj.length;\n    var Ri = Array(m), Rj = Array(m), Rv = Array(m);\n    var i,j,j0,j1,p;\n    p=0;\n    for(i=0;i<n;++i) {\n        j0 = Ai[i];\n        j1 = Ai[i+1];\n        for(j=j0;j!==j1;++j) {\n            Rj[p] = i;\n            Ri[p] = Aj[j];\n            Rv[p] = Av[j];\n            ++p;\n        }\n    }\n    return [Ri,Rj,Rv];\n}\n\n// The following sparse linear algebra routines are deprecated.\n\nnumeric.sdim = function dim(A,ret,k) {\n    if(typeof ret === \"undefined\") { ret = []; }\n    if(typeof A !== \"object\") return ret;\n    if(typeof k === \"undefined\") { k=0; }\n    if(!(k in ret)) { ret[k] = 0; }\n    if(A.length > ret[k]) ret[k] = A.length;\n    var i;\n    for(i in A) {\n        if(A.hasOwnProperty(i)) dim(A[i],ret,k+1);\n    }\n    return ret;\n};\n\nnumeric.sclone = function clone(A,k,n) {\n    if(typeof k === \"undefined\") { k=0; }\n    if(typeof n === \"undefined\") { n = numeric.sdim(A).length; }\n    var i,ret = Array(A.length);\n    if(k === n-1) {\n        for(i in A) { if(A.hasOwnProperty(i)) ret[i] = A[i]; }\n        return ret;\n    }\n    for(i in A) {\n        if(A.hasOwnProperty(i)) ret[i] = clone(A[i],k+1,n);\n    }\n    return ret;\n}\n\nnumeric.sdiag = function diag(d) {\n    var n = d.length,i,ret = Array(n),i1,i2,i3;\n    for(i=n-1;i>=1;i-=2) {\n        i1 = i-1;\n        ret[i] = []; ret[i][i] = d[i];\n        ret[i1] = []; ret[i1][i1] = d[i1];\n    }\n    if(i===0) { ret[0] = []; ret[0][0] = d[i]; }\n    return ret;\n}\n\nnumeric.sidentity = function identity(n) { return numeric.sdiag(numeric.rep([n],1)); }\n\nnumeric.stranspose = function transpose(A) {\n    var ret = [], n = A.length, i,j,Ai;\n    for(i in A) {\n        if(!(A.hasOwnProperty(i))) continue;\n        Ai = A[i];\n        for(j in Ai) {\n            if(!(Ai.hasOwnProperty(j))) continue;\n            if(typeof ret[j] !== \"object\") { ret[j] = []; }\n            ret[j][i] = Ai[j];\n        }\n    }\n    return ret;\n}\n\nnumeric.sLUP = function LUP(A,tol) {\n    throw new Error(\"The function numeric.sLUP had a bug in it and has been removed. Please use the new numeric.ccsLUP function instead.\");\n};\n\nnumeric.sdotMM = function dotMM(A,B) {\n    var p = A.length, q = B.length, BT = numeric.stranspose(B), r = BT.length, Ai, BTk;\n    var i,j,k,accum;\n    var ret = Array(p),reti;\n    for(i=p-1;i>=0;i--) {\n        reti = [];\n        Ai = A[i];\n        for(k=r-1;k>=0;k--) {\n            accum = 0;\n            BTk = BT[k];\n            for(j in Ai) {\n                if(!(Ai.hasOwnProperty(j))) continue;\n                if(j in BTk) { accum += Ai[j]*BTk[j]; }\n            }\n            if(accum) reti[k] = accum;\n        }\n        ret[i] = reti;\n    }\n    return ret;\n}\n\nnumeric.sdotMV = function dotMV(A,x) {\n    var p = A.length, Ai, i,j;\n    var ret = Array(p), accum;\n    for(i=p-1;i>=0;i--) {\n        Ai = A[i];\n        accum = 0;\n        for(j in Ai) {\n            if(!(Ai.hasOwnProperty(j))) continue;\n            if(x[j]) accum += Ai[j]*x[j];\n        }\n        if(accum) ret[i] = accum;\n    }\n    return ret;\n}\n\nnumeric.sdotVM = function dotMV(x,A) {\n    var i,j,Ai,alpha;\n    var ret = [], accum;\n    for(i in x) {\n        if(!x.hasOwnProperty(i)) continue;\n        Ai = A[i];\n        alpha = x[i];\n        for(j in Ai) {\n            if(!Ai.hasOwnProperty(j)) continue;\n            if(!ret[j]) { ret[j] = 0; }\n            ret[j] += alpha*Ai[j];\n        }\n    }\n    return ret;\n}\n\nnumeric.sdotVV = function dotVV(x,y) {\n    var i,ret=0;\n    for(i in x) { if(x[i] && y[i]) ret+= x[i]*y[i]; }\n    return ret;\n}\n\nnumeric.sdot = function dot(A,B) {\n    var m = numeric.sdim(A).length, n = numeric.sdim(B).length;\n    var k = m*1000+n;\n    switch(k) {\n    case 0: return A*B;\n    case 1001: return numeric.sdotVV(A,B);\n    case 2001: return numeric.sdotMV(A,B);\n    case 1002: return numeric.sdotVM(A,B);\n    case 2002: return numeric.sdotMM(A,B);\n    default: throw new Error('numeric.sdot not implemented for tensors of order '+m+' and '+n);\n    }\n}\n\nnumeric.sscatter = function scatter(V) {\n    var n = V[0].length, Vij, i, j, m = V.length, A = [], Aj;\n    for(i=n-1;i>=0;--i) {\n        if(!V[m-1][i]) continue;\n        Aj = A;\n        for(j=0;j<m-2;j++) {\n            Vij = V[j][i];\n            if(!Aj[Vij]) Aj[Vij] = [];\n            Aj = Aj[Vij];\n        }\n        Aj[V[j][i]] = V[j+1][i];\n    }\n    return A;\n}\n\nnumeric.sgather = function gather(A,ret,k) {\n    if(typeof ret === \"undefined\") ret = [];\n    if(typeof k === \"undefined\") k = [];\n    var n,i,Ai;\n    n = k.length;\n    for(i in A) {\n        if(A.hasOwnProperty(i)) {\n            k[n] = parseInt(i);\n            Ai = A[i];\n            if(typeof Ai === \"number\") {\n                if(Ai) {\n                    if(ret.length === 0) {\n                        for(i=n+1;i>=0;--i) ret[i] = [];\n                    }\n                    for(i=n;i>=0;--i) ret[i].push(k[i]);\n                    ret[n+1].push(Ai);\n                }\n            } else gather(Ai,ret,k);\n        }\n    }\n    if(k.length>n) k.pop();\n    return ret;\n}\n\n// 6. Coordinate matrices\nnumeric.cLU = function LU(A) {\n    var I = A[0], J = A[1], V = A[2];\n    var p = I.length, m=0, i,j,k,a,b,c;\n    for(i=0;i<p;i++) if(I[i]>m) m=I[i];\n    m++;\n    var L = Array(m), U = Array(m), left = numeric.rep([m],Infinity), right = numeric.rep([m],-Infinity);\n    var Ui, Uj,alpha;\n    for(k=0;k<p;k++) {\n        i = I[k];\n        j = J[k];\n        if(j<left[i]) left[i] = j;\n        if(j>right[i]) right[i] = j;\n    }\n    for(i=0;i<m-1;i++) { if(right[i] > right[i+1]) right[i+1] = right[i]; }\n    for(i=m-1;i>=1;i--) { if(left[i]<left[i-1]) left[i-1] = left[i]; }\n    var countL = 0, countU = 0;\n    for(i=0;i<m;i++) {\n        U[i] = numeric.rep([right[i]-left[i]+1],0);\n        L[i] = numeric.rep([i-left[i]],0);\n        countL += i-left[i]+1;\n        countU += right[i]-i+1;\n    }\n    for(k=0;k<p;k++) { i = I[k]; U[i][J[k]-left[i]] = V[k]; }\n    for(i=0;i<m-1;i++) {\n        a = i-left[i];\n        Ui = U[i];\n        for(j=i+1;left[j]<=i && j<m;j++) {\n            b = i-left[j];\n            c = right[i]-i;\n            Uj = U[j];\n            alpha = Uj[b]/Ui[a];\n            if(alpha) {\n                for(k=1;k<=c;k++) { Uj[k+b] -= alpha*Ui[k+a]; }\n                L[j][i-left[j]] = alpha;\n            }\n        }\n    }\n    var Ui = [], Uj = [], Uv = [], Li = [], Lj = [], Lv = [];\n    var p,q,foo;\n    p=0; q=0;\n    for(i=0;i<m;i++) {\n        a = left[i];\n        b = right[i];\n        foo = U[i];\n        for(j=i;j<=b;j++) {\n            if(foo[j-a]) {\n                Ui[p] = i;\n                Uj[p] = j;\n                Uv[p] = foo[j-a];\n                p++;\n            }\n        }\n        foo = L[i];\n        for(j=a;j<i;j++) {\n            if(foo[j-a]) {\n                Li[q] = i;\n                Lj[q] = j;\n                Lv[q] = foo[j-a];\n                q++;\n            }\n        }\n        Li[q] = i;\n        Lj[q] = i;\n        Lv[q] = 1;\n        q++;\n    }\n    return {U:[Ui,Uj,Uv], L:[Li,Lj,Lv]};\n};\n\nnumeric.cLUsolve = function LUsolve(lu,b) {\n    var L = lu.L, U = lu.U, ret = numeric.clone(b);\n    var Li = L[0], Lj = L[1], Lv = L[2];\n    var Ui = U[0], Uj = U[1], Uv = U[2];\n    var p = Ui.length, q = Li.length;\n    var m = ret.length,i,j,k;\n    k = 0;\n    for(i=0;i<m;i++) {\n        while(Lj[k] < i) {\n            ret[i] -= Lv[k]*ret[Lj[k]];\n            k++;\n        }\n        k++;\n    }\n    k = p-1;\n    for(i=m-1;i>=0;i--) {\n        while(Uj[k] > i) {\n            ret[i] -= Uv[k]*ret[Uj[k]];\n            k--;\n        }\n        ret[i] /= Uv[k];\n        k--;\n    }\n    return ret;\n};\n\nnumeric.cgrid = function grid(n,shape) {\n    if(typeof n === \"number\") n = [n,n];\n    var ret = numeric.rep(n,-1);\n    var i,j,count;\n    if(typeof shape !== \"function\") {\n        switch(shape) {\n        case 'L':\n            shape = function(i,j) { return (i>=n[0]/2 || j<n[1]/2); }\n            break;\n        default:\n            shape = function(i,j) { return true; };\n            break;\n        }\n    }\n    count=0;\n    for(i=1;i<n[0]-1;i++) for(j=1;j<n[1]-1;j++) \n        if(shape(i,j)) {\n            ret[i][j] = count;\n            count++;\n        }\n    return ret;\n}\n\nnumeric.cdelsq = function delsq(g) {\n    var dir = [[-1,0],[0,-1],[0,1],[1,0]];\n    var s = numeric.dim(g), m = s[0], n = s[1], i,j,k,p,q;\n    var Li = [], Lj = [], Lv = [];\n    for(i=1;i<m-1;i++) for(j=1;j<n-1;j++) {\n        if(g[i][j]<0) continue;\n        for(k=0;k<4;k++) {\n            p = i+dir[k][0];\n            q = j+dir[k][1];\n            if(g[p][q]<0) continue;\n            Li.push(g[i][j]);\n            Lj.push(g[p][q]);\n            Lv.push(-1);\n        }\n        Li.push(g[i][j]);\n        Lj.push(g[i][j]);\n        Lv.push(4);\n    }\n    return [Li,Lj,Lv];\n}\n\nnumeric.cdotMV = function dotMV(A,x) {\n    var ret, Ai = A[0], Aj = A[1], Av = A[2],k,p=Ai.length,N;\n    N=0;\n    for(k=0;k<p;k++) { if(Ai[k]>N) N = Ai[k]; }\n    N++;\n    ret = numeric.rep([N],0);\n    for(k=0;k<p;k++) { ret[Ai[k]]+=Av[k]*x[Aj[k]]; }\n    return ret;\n}\n\n// 7. Splines\n\nnumeric.Spline = function Spline(x,yl,yr,kl,kr) { this.x = x; this.yl = yl; this.yr = yr; this.kl = kl; this.kr = kr; }\nnumeric.Spline.prototype._at = function _at(x1,p) {\n    var x = this.x;\n    var yl = this.yl;\n    var yr = this.yr;\n    var kl = this.kl;\n    var kr = this.kr;\n    var x1,a,b,t;\n    var add = numeric.add, sub = numeric.sub, mul = numeric.mul;\n    a = sub(mul(kl[p],x[p+1]-x[p]),sub(yr[p+1],yl[p]));\n    b = add(mul(kr[p+1],x[p]-x[p+1]),sub(yr[p+1],yl[p]));\n    t = (x1-x[p])/(x[p+1]-x[p]);\n    var s = t*(1-t);\n    return add(add(add(mul(1-t,yl[p]),mul(t,yr[p+1])),mul(a,s*(1-t))),mul(b,s*t));\n}\nnumeric.Spline.prototype.at = function at(x0) {\n    if(typeof x0 === \"number\") {\n        var x = this.x;\n        var n = x.length;\n        var p,q,mid,floor = Math.floor,a,b,t;\n        p = 0;\n        q = n-1;\n        while(q-p>1) {\n            mid = floor((p+q)/2);\n            if(x[mid] <= x0) p = mid;\n            else q = mid;\n        }\n        return this._at(x0,p);\n    }\n    var n = x0.length, i, ret = Array(n);\n    for(i=n-1;i!==-1;--i) ret[i] = this.at(x0[i]);\n    return ret;\n}\nnumeric.Spline.prototype.diff = function diff() {\n    var x = this.x;\n    var yl = this.yl;\n    var yr = this.yr;\n    var kl = this.kl;\n    var kr = this.kr;\n    var n = yl.length;\n    var i,dx,dy;\n    var zl = kl, zr = kr, pl = Array(n), pr = Array(n);\n    var add = numeric.add, mul = numeric.mul, div = numeric.div, sub = numeric.sub;\n    for(i=n-1;i!==-1;--i) {\n        dx = x[i+1]-x[i];\n        dy = sub(yr[i+1],yl[i]);\n        pl[i] = div(add(mul(dy, 6),mul(kl[i],-4*dx),mul(kr[i+1],-2*dx)),dx*dx);\n        pr[i+1] = div(add(mul(dy,-6),mul(kl[i], 2*dx),mul(kr[i+1], 4*dx)),dx*dx);\n    }\n    return new numeric.Spline(x,zl,zr,pl,pr);\n}\nnumeric.Spline.prototype.roots = function roots() {\n    function sqr(x) { return x*x; }\n    function heval(y0,y1,k0,k1,x) {\n        var A = k0*2-(y1-y0);\n        var B = -k1*2+(y1-y0);\n        var t = (x+1)*0.5;\n        var s = t*(1-t);\n        return (1-t)*y0+t*y1+A*s*(1-t)+B*s*t;\n    }\n    var ret = [];\n    var x = this.x, yl = this.yl, yr = this.yr, kl = this.kl, kr = this.kr;\n    if(typeof yl[0] === \"number\") {\n        yl = [yl];\n        yr = [yr];\n        kl = [kl];\n        kr = [kr];\n    }\n    var m = yl.length,n=x.length-1,i,j,k,y,s,t;\n    var ai,bi,ci,di, ret = Array(m),ri,k0,k1,y0,y1,A,B,D,dx,cx,stops,z0,z1,zm,t0,t1,tm;\n    var sqrt = Math.sqrt;\n    for(i=0;i!==m;++i) {\n        ai = yl[i];\n        bi = yr[i];\n        ci = kl[i];\n        di = kr[i];\n        ri = [];\n        for(j=0;j!==n;j++) {\n            if(j>0 && bi[j]*ai[j]<0) ri.push(x[j]);\n            dx = (x[j+1]-x[j]);\n            cx = x[j];\n            y0 = ai[j];\n            y1 = bi[j+1];\n            k0 = ci[j]/dx;\n            k1 = di[j+1]/dx;\n            D = sqr(k0-k1+3*(y0-y1)) + 12*k1*y0;\n            A = k1+3*y0+2*k0-3*y1;\n            B = 3*(k1+k0+2*(y0-y1));\n            if(D<=0) {\n                z0 = A/B;\n                if(z0>x[j] && z0<x[j+1]) stops = [x[j],z0,x[j+1]];\n                else stops = [x[j],x[j+1]];\n            } else {\n                z0 = (A-sqrt(D))/B;\n                z1 = (A+sqrt(D))/B;\n                stops = [x[j]];\n                if(z0>x[j] && z0<x[j+1]) stops.push(z0);\n                if(z1>x[j] && z1<x[j+1]) stops.push(z1);\n                stops.push(x[j+1]);\n            }\n            t0 = stops[0];\n            z0 = this._at(t0,j);\n            for(k=0;k<stops.length-1;k++) {\n                t1 = stops[k+1];\n                z1 = this._at(t1,j);\n                if(z0 === 0) {\n                    ri.push(t0); \n                    t0 = t1;\n                    z0 = z1;\n                    continue;\n                }\n                if(z1 === 0 || z0*z1>0) {\n                    t0 = t1;\n                    z0 = z1;\n                    continue;\n                }\n                var side = 0;\n                while(1) {\n                    tm = (z0*t1-z1*t0)/(z0-z1);\n                    if(tm <= t0 || tm >= t1) { break; }\n                    zm = this._at(tm,j);\n                    if(zm*z1>0) {\n                        t1 = tm;\n                        z1 = zm;\n                        if(side === -1) z0*=0.5;\n                        side = -1;\n                    } else if(zm*z0>0) {\n                        t0 = tm;\n                        z0 = zm;\n                        if(side === 1) z1*=0.5;\n                        side = 1;\n                    } else break;\n                }\n                ri.push(tm);\n                t0 = stops[k+1];\n                z0 = this._at(t0, j);\n            }\n            if(z1 === 0) ri.push(t1);\n        }\n        ret[i] = ri;\n    }\n    if(typeof this.yl[0] === \"number\") return ret[0];\n    return ret;\n}\nnumeric.spline = function spline(x,y,k1,kn) {\n    var n = x.length, b = [], dx = [], dy = [];\n    var i;\n    var sub = numeric.sub,mul = numeric.mul,add = numeric.add;\n    for(i=n-2;i>=0;i--) { dx[i] = x[i+1]-x[i]; dy[i] = sub(y[i+1],y[i]); }\n    if(typeof k1 === \"string\" || typeof kn === \"string\") { \n        k1 = kn = \"periodic\";\n    }\n    // Build sparse tridiagonal system\n    var T = [[],[],[]];\n    switch(typeof k1) {\n    case \"undefined\":\n        b[0] = mul(3/(dx[0]*dx[0]),dy[0]);\n        T[0].push(0,0);\n        T[1].push(0,1);\n        T[2].push(2/dx[0],1/dx[0]);\n        break;\n    case \"string\":\n        b[0] = add(mul(3/(dx[n-2]*dx[n-2]),dy[n-2]),mul(3/(dx[0]*dx[0]),dy[0]));\n        T[0].push(0,0,0);\n        T[1].push(n-2,0,1);\n        T[2].push(1/dx[n-2],2/dx[n-2]+2/dx[0],1/dx[0]);\n        break;\n    default:\n        b[0] = k1;\n        T[0].push(0);\n        T[1].push(0);\n        T[2].push(1);\n        break;\n    }\n    for(i=1;i<n-1;i++) {\n        b[i] = add(mul(3/(dx[i-1]*dx[i-1]),dy[i-1]),mul(3/(dx[i]*dx[i]),dy[i]));\n        T[0].push(i,i,i);\n        T[1].push(i-1,i,i+1);\n        T[2].push(1/dx[i-1],2/dx[i-1]+2/dx[i],1/dx[i]);\n    }\n    switch(typeof kn) {\n    case \"undefined\":\n        b[n-1] = mul(3/(dx[n-2]*dx[n-2]),dy[n-2]);\n        T[0].push(n-1,n-1);\n        T[1].push(n-2,n-1);\n        T[2].push(1/dx[n-2],2/dx[n-2]);\n        break;\n    case \"string\":\n        T[1][T[1].length-1] = 0;\n        break;\n    default:\n        b[n-1] = kn;\n        T[0].push(n-1);\n        T[1].push(n-1);\n        T[2].push(1);\n        break;\n    }\n    if(typeof b[0] !== \"number\") b = numeric.transpose(b);\n    else b = [b];\n    var k = Array(b.length);\n    if(typeof k1 === \"string\") {\n        for(i=k.length-1;i!==-1;--i) {\n            k[i] = numeric.ccsLUPSolve(numeric.ccsLUP(numeric.ccsScatter(T)),b[i]);\n            k[i][n-1] = k[i][0];\n        }\n    } else {\n        for(i=k.length-1;i!==-1;--i) {\n            k[i] = numeric.cLUsolve(numeric.cLU(T),b[i]);\n        }\n    }\n    if(typeof y[0] === \"number\") k = k[0];\n    else k = numeric.transpose(k);\n    return new numeric.Spline(x,y,y,k,k);\n}\n\n// 8. FFT\nnumeric.fftpow2 = function fftpow2(x,y) {\n    var n = x.length;\n    if(n === 1) return;\n    var cos = Math.cos, sin = Math.sin, i,j;\n    var xe = Array(n/2), ye = Array(n/2), xo = Array(n/2), yo = Array(n/2);\n    j = n/2;\n    for(i=n-1;i!==-1;--i) {\n        --j;\n        xo[j] = x[i];\n        yo[j] = y[i];\n        --i;\n        xe[j] = x[i];\n        ye[j] = y[i];\n    }\n    fftpow2(xe,ye);\n    fftpow2(xo,yo);\n    j = n/2;\n    var t,k = (-6.2831853071795864769252867665590057683943387987502116419/n),ci,si;\n    for(i=n-1;i!==-1;--i) {\n        --j;\n        if(j === -1) j = n/2-1;\n        t = k*i;\n        ci = cos(t);\n        si = sin(t);\n        x[i] = xe[j] + ci*xo[j] - si*yo[j];\n        y[i] = ye[j] + ci*yo[j] + si*xo[j];\n    }\n}\nnumeric._ifftpow2 = function _ifftpow2(x,y) {\n    var n = x.length;\n    if(n === 1) return;\n    var cos = Math.cos, sin = Math.sin, i,j;\n    var xe = Array(n/2), ye = Array(n/2), xo = Array(n/2), yo = Array(n/2);\n    j = n/2;\n    for(i=n-1;i!==-1;--i) {\n        --j;\n        xo[j] = x[i];\n        yo[j] = y[i];\n        --i;\n        xe[j] = x[i];\n        ye[j] = y[i];\n    }\n    _ifftpow2(xe,ye);\n    _ifftpow2(xo,yo);\n    j = n/2;\n    var t,k = (6.2831853071795864769252867665590057683943387987502116419/n),ci,si;\n    for(i=n-1;i!==-1;--i) {\n        --j;\n        if(j === -1) j = n/2-1;\n        t = k*i;\n        ci = cos(t);\n        si = sin(t);\n        x[i] = xe[j] + ci*xo[j] - si*yo[j];\n        y[i] = ye[j] + ci*yo[j] + si*xo[j];\n    }\n}\nnumeric.ifftpow2 = function ifftpow2(x,y) {\n    numeric._ifftpow2(x,y);\n    numeric.diveq(x,x.length);\n    numeric.diveq(y,y.length);\n}\nnumeric.convpow2 = function convpow2(ax,ay,bx,by) {\n    numeric.fftpow2(ax,ay);\n    numeric.fftpow2(bx,by);\n    var i,n = ax.length,axi,bxi,ayi,byi;\n    for(i=n-1;i!==-1;--i) {\n        axi = ax[i]; ayi = ay[i]; bxi = bx[i]; byi = by[i];\n        ax[i] = axi*bxi-ayi*byi;\n        ay[i] = axi*byi+ayi*bxi;\n    }\n    numeric.ifftpow2(ax,ay);\n}\nnumeric.T.prototype.fft = function fft() {\n    var x = this.x, y = this.y;\n    var n = x.length, log = Math.log, log2 = log(2),\n        p = Math.ceil(log(2*n-1)/log2), m = Math.pow(2,p);\n    var cx = numeric.rep([m],0), cy = numeric.rep([m],0), cos = Math.cos, sin = Math.sin;\n    var k, c = (-3.141592653589793238462643383279502884197169399375105820/n),t;\n    var a = numeric.rep([m],0), b = numeric.rep([m],0),nhalf = Math.floor(n/2);\n    for(k=0;k<n;k++) a[k] = x[k];\n    if(typeof y !== \"undefined\") for(k=0;k<n;k++) b[k] = y[k];\n    cx[0] = 1;\n    for(k=1;k<=m/2;k++) {\n        t = c*k*k;\n        cx[k] = cos(t);\n        cy[k] = sin(t);\n        cx[m-k] = cos(t);\n        cy[m-k] = sin(t)\n    }\n    var X = new numeric.T(a,b), Y = new numeric.T(cx,cy);\n    X = X.mul(Y);\n    numeric.convpow2(X.x,X.y,numeric.clone(Y.x),numeric.neg(Y.y));\n    X = X.mul(Y);\n    X.x.length = n;\n    X.y.length = n;\n    return X;\n}\nnumeric.T.prototype.ifft = function ifft() {\n    var x = this.x, y = this.y;\n    var n = x.length, log = Math.log, log2 = log(2),\n        p = Math.ceil(log(2*n-1)/log2), m = Math.pow(2,p);\n    var cx = numeric.rep([m],0), cy = numeric.rep([m],0), cos = Math.cos, sin = Math.sin;\n    var k, c = (3.141592653589793238462643383279502884197169399375105820/n),t;\n    var a = numeric.rep([m],0), b = numeric.rep([m],0),nhalf = Math.floor(n/2);\n    for(k=0;k<n;k++) a[k] = x[k];\n    if(typeof y !== \"undefined\") for(k=0;k<n;k++) b[k] = y[k];\n    cx[0] = 1;\n    for(k=1;k<=m/2;k++) {\n        t = c*k*k;\n        cx[k] = cos(t);\n        cy[k] = sin(t);\n        cx[m-k] = cos(t);\n        cy[m-k] = sin(t)\n    }\n    var X = new numeric.T(a,b), Y = new numeric.T(cx,cy);\n    X = X.mul(Y);\n    numeric.convpow2(X.x,X.y,numeric.clone(Y.x),numeric.neg(Y.y));\n    X = X.mul(Y);\n    X.x.length = n;\n    X.y.length = n;\n    return X.div(n);\n}\n\n//9. Unconstrained optimization\nnumeric.gradient = function gradient(f,x) {\n    var n = x.length;\n    var f0 = f(x);\n    if(isNaN(f0)) throw new Error('gradient: f(x) is a NaN!');\n    var max = Math.max;\n    var i,x0 = numeric.clone(x),f1,f2, J = Array(n);\n    var div = numeric.div, sub = numeric.sub,errest,roundoff,max = Math.max,eps = 1e-3,abs = Math.abs, min = Math.min;\n    var t0,t1,t2,it=0,d1,d2,N;\n    for(i=0;i<n;i++) {\n        var h = max(1e-6*f0,1e-8);\n        while(1) {\n            ++it;\n            if(it>20) { throw new Error(\"Numerical gradient fails\"); }\n            x0[i] = x[i]+h;\n            f1 = f(x0);\n            x0[i] = x[i]-h;\n            f2 = f(x0);\n            x0[i] = x[i];\n            if(isNaN(f1) || isNaN(f2)) { h/=16; continue; }\n            J[i] = (f1-f2)/(2*h);\n            t0 = x[i]-h;\n            t1 = x[i];\n            t2 = x[i]+h;\n            d1 = (f1-f0)/h;\n            d2 = (f0-f2)/h;\n            N = max(abs(J[i]),abs(f0),abs(f1),abs(f2),abs(t0),abs(t1),abs(t2),1e-8);\n            errest = min(max(abs(d1-J[i]),abs(d2-J[i]),abs(d1-d2))/N,h/N);\n            if(errest>eps) { h/=16; }\n            else break;\n            }\n    }\n    return J;\n}\n\nnumeric.uncmin = function uncmin(f,x0,tol,gradient,maxit,callback,options) {\n    var grad = numeric.gradient;\n    if(typeof options === \"undefined\") { options = {}; }\n    if(typeof tol === \"undefined\") { tol = 1e-8; }\n    if(typeof gradient === \"undefined\") { gradient = function(x) { return grad(f,x); }; }\n    if(typeof maxit === \"undefined\") maxit = 1000;\n    x0 = numeric.clone(x0);\n    var n = x0.length;\n    var f0 = f(x0),f1,df0;\n    if(isNaN(f0)) throw new Error('uncmin: f(x0) is a NaN!');\n    var max = Math.max, norm2 = numeric.norm2;\n    tol = max(tol,numeric.epsilon);\n    var step,g0,g1,H1 = options.Hinv || numeric.identity(n);\n    var dot = numeric.dot, inv = numeric.inv, sub = numeric.sub, add = numeric.add, ten = numeric.tensor, div = numeric.div, mul = numeric.mul;\n    var all = numeric.all, isfinite = numeric.isFinite, neg = numeric.neg;\n    var it=0,i,s,x1,y,Hy,Hs,ys,i0,t,nstep,t1,t2;\n    var msg = \"\";\n    g0 = gradient(x0);\n    while(it<maxit) {\n        if(typeof callback === \"function\") { if(callback(it,x0,f0,g0,H1)) { msg = \"Callback returned true\"; break; } }\n        if(!all(isfinite(g0))) { msg = \"Gradient has Infinity or NaN\"; break; }\n        step = neg(dot(H1,g0));\n        if(!all(isfinite(step))) { msg = \"Search direction has Infinity or NaN\"; break; }\n        nstep = norm2(step);\n        if(nstep < tol) { msg=\"Newton step smaller than tol\"; break; }\n        t = 1;\n        df0 = dot(g0,step);\n        // line search\n        x1 = x0;\n        while(it < maxit) {\n            if(t*nstep < tol) { break; }\n            s = mul(step,t);\n            x1 = add(x0,s);\n            f1 = f(x1);\n            if(f1-f0 >= 0.1*t*df0 || isNaN(f1)) {\n                t *= 0.5;\n                ++it;\n                continue;\n            }\n            break;\n        }\n        if(t*nstep < tol) { msg = \"Line search step size smaller than tol\"; break; }\n        if(it === maxit) { msg = \"maxit reached during line search\"; break; }\n        g1 = gradient(x1);\n        y = sub(g1,g0);\n        ys = dot(y,s);\n        Hy = dot(H1,y);\n        H1 = sub(add(H1,\n                mul(\n                        (ys+dot(y,Hy))/(ys*ys),\n                        ten(s,s)    )),\n                div(add(ten(Hy,s),ten(s,Hy)),ys));\n        x0 = x1;\n        f0 = f1;\n        g0 = g1;\n        ++it;\n    }\n    return {solution: x0, f: f0, gradient: g0, invHessian: H1, iterations:it, message: msg};\n}\n\n// 10. Ode solver (Dormand-Prince)\nnumeric.Dopri = function Dopri(x,y,f,ymid,iterations,msg,events) {\n    this.x = x;\n    this.y = y;\n    this.f = f;\n    this.ymid = ymid;\n    this.iterations = iterations;\n    this.events = events;\n    this.message = msg;\n}\nnumeric.Dopri.prototype._at = function _at(xi,j) {\n    function sqr(x) { return x*x; }\n    var sol = this;\n    var xs = sol.x;\n    var ys = sol.y;\n    var k1 = sol.f;\n    var ymid = sol.ymid;\n    var n = xs.length;\n    var x0,x1,xh,y0,y1,yh,xi;\n    var floor = Math.floor,h;\n    var c = 0.5;\n    var add = numeric.add, mul = numeric.mul,sub = numeric.sub, p,q,w;\n    x0 = xs[j];\n    x1 = xs[j+1];\n    y0 = ys[j];\n    y1 = ys[j+1];\n    h  = x1-x0;\n    xh = x0+c*h;\n    yh = ymid[j];\n    p = sub(k1[j  ],mul(y0,1/(x0-xh)+2/(x0-x1)));\n    q = sub(k1[j+1],mul(y1,1/(x1-xh)+2/(x1-x0)));\n    w = [sqr(xi - x1) * (xi - xh) / sqr(x0 - x1) / (x0 - xh),\n         sqr(xi - x0) * sqr(xi - x1) / sqr(x0 - xh) / sqr(x1 - xh),\n         sqr(xi - x0) * (xi - xh) / sqr(x1 - x0) / (x1 - xh),\n         (xi - x0) * sqr(xi - x1) * (xi - xh) / sqr(x0-x1) / (x0 - xh),\n         (xi - x1) * sqr(xi - x0) * (xi - xh) / sqr(x0-x1) / (x1 - xh)];\n    return add(add(add(add(mul(y0,w[0]),\n                           mul(yh,w[1])),\n                           mul(y1,w[2])),\n                           mul( p,w[3])),\n                           mul( q,w[4]));\n}\nnumeric.Dopri.prototype.at = function at(x) {\n    var i,j,k,floor = Math.floor;\n    if(typeof x !== \"number\") {\n        var n = x.length, ret = Array(n);\n        for(i=n-1;i!==-1;--i) {\n            ret[i] = this.at(x[i]);\n        }\n        return ret;\n    }\n    var x0 = this.x;\n    i = 0; j = x0.length-1;\n    while(j-i>1) {\n        k = floor(0.5*(i+j));\n        if(x0[k] <= x) i = k;\n        else j = k;\n    }\n    return this._at(x,i);\n}\n\nnumeric.dopri = function dopri(x0,x1,y0,f,tol,maxit,event) {\n    if(typeof tol === \"undefined\") { tol = 1e-6; }\n    if(typeof maxit === \"undefined\") { maxit = 1000; }\n    var xs = [x0], ys = [y0], k1 = [f(x0,y0)], k2,k3,k4,k5,k6,k7, ymid = [];\n    var A2 = 1/5;\n    var A3 = [3/40,9/40];\n    var A4 = [44/45,-56/15,32/9];\n    var A5 = [19372/6561,-25360/2187,64448/6561,-212/729];\n    var A6 = [9017/3168,-355/33,46732/5247,49/176,-5103/18656];\n    var b = [35/384,0,500/1113,125/192,-2187/6784,11/84];\n    var bm = [0.5*6025192743/30085553152,\n              0,\n              0.5*51252292925/65400821598,\n              0.5*-2691868925/45128329728,\n              0.5*187940372067/1594534317056,\n              0.5*-1776094331/19743644256,\n              0.5*11237099/235043384];\n    var c = [1/5,3/10,4/5,8/9,1,1];\n    var e = [-71/57600,0,71/16695,-71/1920,17253/339200,-22/525,1/40];\n    var i = 0,er,j;\n    var h = (x1-x0)/10;\n    var it = 0;\n    var add = numeric.add, mul = numeric.mul, y1,erinf;\n    var max = Math.max, min = Math.min, abs = Math.abs, norminf = numeric.norminf,pow = Math.pow;\n    var any = numeric.any, lt = numeric.lt, and = numeric.and, sub = numeric.sub;\n    var e0, e1, ev;\n    var ret = new numeric.Dopri(xs,ys,k1,ymid,-1,\"\");\n    if(typeof event === \"function\") e0 = event(x0,y0);\n    while(x0<x1 && it<maxit) {\n        ++it;\n        if(x0+h>x1) h = x1-x0;\n        k2 = f(x0+c[0]*h,                add(y0,mul(   A2*h,k1[i])));\n        k3 = f(x0+c[1]*h,            add(add(y0,mul(A3[0]*h,k1[i])),mul(A3[1]*h,k2)));\n        k4 = f(x0+c[2]*h,        add(add(add(y0,mul(A4[0]*h,k1[i])),mul(A4[1]*h,k2)),mul(A4[2]*h,k3)));\n        k5 = f(x0+c[3]*h,    add(add(add(add(y0,mul(A5[0]*h,k1[i])),mul(A5[1]*h,k2)),mul(A5[2]*h,k3)),mul(A5[3]*h,k4)));\n        k6 = f(x0+c[4]*h,add(add(add(add(add(y0,mul(A6[0]*h,k1[i])),mul(A6[1]*h,k2)),mul(A6[2]*h,k3)),mul(A6[3]*h,k4)),mul(A6[4]*h,k5)));\n        y1 = add(add(add(add(add(y0,mul(k1[i],h*b[0])),mul(k3,h*b[2])),mul(k4,h*b[3])),mul(k5,h*b[4])),mul(k6,h*b[5]));\n        k7 = f(x0+h,y1);\n        er = add(add(add(add(add(mul(k1[i],h*e[0]),mul(k3,h*e[2])),mul(k4,h*e[3])),mul(k5,h*e[4])),mul(k6,h*e[5])),mul(k7,h*e[6]));\n        if(typeof er === \"number\") erinf = abs(er);\n        else erinf = norminf(er);\n        if(erinf > tol) { // reject\n            h = 0.2*h*pow(tol/erinf,0.25);\n            if(x0+h === x0) {\n                ret.msg = \"Step size became too small\";\n                break;\n            }\n            continue;\n        }\n        ymid[i] = add(add(add(add(add(add(y0,\n                mul(k1[i],h*bm[0])),\n                mul(k3   ,h*bm[2])),\n                mul(k4   ,h*bm[3])),\n                mul(k5   ,h*bm[4])),\n                mul(k6   ,h*bm[5])),\n                mul(k7   ,h*bm[6]));\n        ++i;\n        xs[i] = x0+h;\n        ys[i] = y1;\n        k1[i] = k7;\n        if(typeof event === \"function\") {\n            var yi,xl = x0,xr = x0+0.5*h,xi;\n            e1 = event(xr,ymid[i-1]);\n            ev = and(lt(e0,0),lt(0,e1));\n            if(!any(ev)) { xl = xr; xr = x0+h; e0 = e1; e1 = event(xr,y1); ev = and(lt(e0,0),lt(0,e1)); }\n            if(any(ev)) {\n                var xc, yc, en,ei;\n                var side=0, sl = 1.0, sr = 1.0;\n                while(1) {\n                    if(typeof e0 === \"number\") xi = (sr*e1*xl-sl*e0*xr)/(sr*e1-sl*e0);\n                    else {\n                        xi = xr;\n                        for(j=e0.length-1;j!==-1;--j) {\n                            if(e0[j]<0 && e1[j]>0) xi = min(xi,(sr*e1[j]*xl-sl*e0[j]*xr)/(sr*e1[j]-sl*e0[j]));\n                        }\n                    }\n                    if(xi <= xl || xi >= xr) break;\n                    yi = ret._at(xi, i-1);\n                    ei = event(xi,yi);\n                    en = and(lt(e0,0),lt(0,ei));\n                    if(any(en)) {\n                        xr = xi;\n                        e1 = ei;\n                        ev = en;\n                        sr = 1.0;\n                        if(side === -1) sl *= 0.5;\n                        else sl = 1.0;\n                        side = -1;\n                    } else {\n                        xl = xi;\n                        e0 = ei;\n                        sl = 1.0;\n                        if(side === 1) sr *= 0.5;\n                        else sr = 1.0;\n                        side = 1;\n                    }\n                }\n                y1 = ret._at(0.5*(x0+xi),i-1);\n                ret.f[i] = f(xi,yi);\n                ret.x[i] = xi;\n                ret.y[i] = yi;\n                ret.ymid[i-1] = y1;\n                ret.events = ev;\n                ret.iterations = it;\n                return ret;\n            }\n        }\n        x0 += h;\n        y0 = y1;\n        e0 = e1;\n        h = min(0.8*h*pow(tol/erinf,0.25),4*h);\n    }\n    ret.iterations = it;\n    return ret;\n}\n\n// 11. Ax = b\nnumeric.LU = function(A, fast) {\n  fast = fast || false;\n\n  var abs = Math.abs;\n  var i, j, k, absAjk, Akk, Ak, Pk, Ai;\n  var max;\n  var n = A.length, n1 = n-1;\n  var P = new Array(n);\n  if(!fast) A = numeric.clone(A);\n\n  for (k = 0; k < n; ++k) {\n    Pk = k;\n    Ak = A[k];\n    max = abs(Ak[k]);\n    for (j = k + 1; j < n; ++j) {\n      absAjk = abs(A[j][k]);\n      if (max < absAjk) {\n        max = absAjk;\n        Pk = j;\n      }\n    }\n    P[k] = Pk;\n\n    if (Pk != k) {\n      A[k] = A[Pk];\n      A[Pk] = Ak;\n      Ak = A[k];\n    }\n\n    Akk = Ak[k];\n\n    for (i = k + 1; i < n; ++i) {\n      A[i][k] /= Akk;\n    }\n\n    for (i = k + 1; i < n; ++i) {\n      Ai = A[i];\n      for (j = k + 1; j < n1; ++j) {\n        Ai[j] -= Ai[k] * Ak[j];\n        ++j;\n        Ai[j] -= Ai[k] * Ak[j];\n      }\n      if(j===n1) Ai[j] -= Ai[k] * Ak[j];\n    }\n  }\n\n  return {\n    LU: A,\n    P:  P\n  };\n}\n\nnumeric.LUsolve = function LUsolve(LUP, b) {\n  var i, j;\n  var LU = LUP.LU;\n  var n   = LU.length;\n  var x = numeric.clone(b);\n  var P   = LUP.P;\n  var Pi, LUi, LUii, tmp;\n\n  for (i=n-1;i!==-1;--i) x[i] = b[i];\n  for (i = 0; i < n; ++i) {\n    Pi = P[i];\n    if (P[i] !== i) {\n      tmp = x[i];\n      x[i] = x[Pi];\n      x[Pi] = tmp;\n    }\n\n    LUi = LU[i];\n    for (j = 0; j < i; ++j) {\n      x[i] -= x[j] * LUi[j];\n    }\n  }\n\n  for (i = n - 1; i >= 0; --i) {\n    LUi = LU[i];\n    for (j = i + 1; j < n; ++j) {\n      x[i] -= x[j] * LUi[j];\n    }\n\n    x[i] /= LUi[i];\n  }\n\n  return x;\n}\n\nnumeric.solve = function solve(A,b,fast) { return numeric.LUsolve(numeric.LU(A,fast), b); }\n\n// 12. Linear programming\nnumeric.echelonize = function echelonize(A) {\n    var s = numeric.dim(A), m = s[0], n = s[1];\n    var I = numeric.identity(m);\n    var P = Array(m);\n    var i,j,k,l,Ai,Ii,Z,a;\n    var abs = Math.abs;\n    var diveq = numeric.diveq;\n    A = numeric.clone(A);\n    for(i=0;i<m;++i) {\n        k = 0;\n        Ai = A[i];\n        Ii = I[i];\n        for(j=1;j<n;++j) if(abs(Ai[k])<abs(Ai[j])) k=j;\n        P[i] = k;\n        diveq(Ii,Ai[k]);\n        diveq(Ai,Ai[k]);\n        for(j=0;j<m;++j) if(j!==i) {\n            Z = A[j]; a = Z[k];\n            for(l=n-1;l!==-1;--l) Z[l] -= Ai[l]*a;\n            Z = I[j];\n            for(l=m-1;l!==-1;--l) Z[l] -= Ii[l]*a;\n        }\n    }\n    return {I:I, A:A, P:P};\n}\n\nnumeric.__solveLP = function __solveLP(c,A,b,tol,maxit,x,flag) {\n    var sum = numeric.sum, log = numeric.log, mul = numeric.mul, sub = numeric.sub, dot = numeric.dot, div = numeric.div, add = numeric.add;\n    var m = c.length, n = b.length,y;\n    var unbounded = false, cb,i0=0;\n    var alpha = 1.0;\n    var f0,df0,AT = numeric.transpose(A), svd = numeric.svd,transpose = numeric.transpose,leq = numeric.leq, sqrt = Math.sqrt, abs = Math.abs;\n    var muleq = numeric.muleq;\n    var norm = numeric.norminf, any = numeric.any,min = Math.min;\n    var all = numeric.all, gt = numeric.gt;\n    var p = Array(m), A0 = Array(n),e=numeric.rep([n],1), H;\n    var solve = numeric.solve, z = sub(b,dot(A,x)),count;\n    var dotcc = dot(c,c);\n    var g;\n    for(count=i0;count<maxit;++count) {\n        var i,j,d;\n        for(i=n-1;i!==-1;--i) A0[i] = div(A[i],z[i]);\n        var A1 = transpose(A0);\n        for(i=m-1;i!==-1;--i) p[i] = (/*x[i]+*/sum(A1[i]));\n        alpha = 0.25*abs(dotcc/dot(c,p));\n        var a1 = 100*sqrt(dotcc/dot(p,p));\n        if(!isFinite(alpha) || alpha>a1) alpha = a1;\n        g = add(c,mul(alpha,p));\n        H = dot(A1,A0);\n        for(i=m-1;i!==-1;--i) H[i][i] += 1;\n        d = solve(H,div(g,alpha),true);\n        var t0 = div(z,dot(A,d));\n        var t = 1.0;\n        for(i=n-1;i!==-1;--i) if(t0[i]<0) t = min(t,-0.999*t0[i]);\n        y = sub(x,mul(d,t));\n        z = sub(b,dot(A,y));\n        if(!all(gt(z,0))) return { solution: x, message: \"\", iterations: count };\n        x = y;\n        if(alpha<tol) return { solution: y, message: \"\", iterations: count };\n        if(flag) {\n            var s = dot(c,g), Ag = dot(A,g);\n            unbounded = true;\n            for(i=n-1;i!==-1;--i) if(s*Ag[i]<0) { unbounded = false; break; }\n        } else {\n            if(x[m-1]>=0) unbounded = false;\n            else unbounded = true;\n        }\n        if(unbounded) return { solution: y, message: \"Unbounded\", iterations: count };\n    }\n    return { solution: x, message: \"maximum iteration count exceeded\", iterations:count };\n}\n\nnumeric._solveLP = function _solveLP(c,A,b,tol,maxit) {\n    var m = c.length, n = b.length,y;\n    var sum = numeric.sum, log = numeric.log, mul = numeric.mul, sub = numeric.sub, dot = numeric.dot, div = numeric.div, add = numeric.add;\n    var c0 = numeric.rep([m],0).concat([1]);\n    var J = numeric.rep([n,1],-1);\n    var A0 = numeric.blockMatrix([[A                   ,   J  ]]);\n    var b0 = b;\n    var y = numeric.rep([m],0).concat(Math.max(0,numeric.sup(numeric.neg(b)))+1);\n    var x0 = numeric.__solveLP(c0,A0,b0,tol,maxit,y,false);\n    var x = numeric.clone(x0.solution);\n    x.length = m;\n    var foo = numeric.inf(sub(b,dot(A,x)));\n    if(foo<0) { return { solution: NaN, message: \"Infeasible\", iterations: x0.iterations }; }\n    var ret = numeric.__solveLP(c, A, b, tol, maxit-x0.iterations, x, true);\n    ret.iterations += x0.iterations;\n    return ret;\n};\n\nnumeric.solveLP = function solveLP(c,A,b,Aeq,beq,tol,maxit) {\n    if(typeof maxit === \"undefined\") maxit = 1000;\n    if(typeof tol === \"undefined\") tol = numeric.epsilon;\n    if(typeof Aeq === \"undefined\") return numeric._solveLP(c,A,b,tol,maxit);\n    var m = Aeq.length, n = Aeq[0].length, o = A.length;\n    var B = numeric.echelonize(Aeq);\n    var flags = numeric.rep([n],0);\n    var P = B.P;\n    var Q = [];\n    var i;\n    for(i=P.length-1;i!==-1;--i) flags[P[i]] = 1;\n    for(i=n-1;i!==-1;--i) if(flags[i]===0) Q.push(i);\n    var g = numeric.getRange;\n    var I = numeric.linspace(0,m-1), J = numeric.linspace(0,o-1);\n    var Aeq2 = g(Aeq,I,Q), A1 = g(A,J,P), A2 = g(A,J,Q), dot = numeric.dot, sub = numeric.sub;\n    var A3 = dot(A1,B.I);\n    var A4 = sub(A2,dot(A3,Aeq2)), b4 = sub(b,dot(A3,beq));\n    var c1 = Array(P.length), c2 = Array(Q.length);\n    for(i=P.length-1;i!==-1;--i) c1[i] = c[P[i]];\n    for(i=Q.length-1;i!==-1;--i) c2[i] = c[Q[i]];\n    var c4 = sub(c2,dot(c1,dot(B.I,Aeq2)));\n    var S = numeric._solveLP(c4,A4,b4,tol,maxit);\n    var x2 = S.solution;\n    if(x2!==x2) return S;\n    var x1 = dot(B.I,sub(beq,dot(Aeq2,x2)));\n    var x = Array(c.length);\n    for(i=P.length-1;i!==-1;--i) x[P[i]] = x1[i];\n    for(i=Q.length-1;i!==-1;--i) x[Q[i]] = x2[i];\n    return { solution: x, message:S.message, iterations: S.iterations };\n}\n\nnumeric.MPStoLP = function MPStoLP(MPS) {\n    if(MPS instanceof String) { MPS.split('\\n'); }\n    var state = 0;\n    var states = ['Initial state','NAME','ROWS','COLUMNS','RHS','BOUNDS','ENDATA'];\n    var n = MPS.length;\n    var i,j,z,N=0,rows = {}, sign = [], rl = 0, vars = {}, nv = 0;\n    var name;\n    var c = [], A = [], b = [];\n    function err(e) { throw new Error('MPStoLP: '+e+'\\nLine '+i+': '+MPS[i]+'\\nCurrent state: '+states[state]+'\\n'); }\n    for(i=0;i<n;++i) {\n        z = MPS[i];\n        var w0 = z.match(/\\S*/g);\n        var w = [];\n        for(j=0;j<w0.length;++j) if(w0[j]!==\"\") w.push(w0[j]);\n        if(w.length === 0) continue;\n        for(j=0;j<states.length;++j) if(z.substr(0,states[j].length) === states[j]) break;\n        if(j<states.length) {\n            state = j;\n            if(j===1) { name = w[1]; }\n            if(j===6) return { name:name, c:c, A:numeric.transpose(A), b:b, rows:rows, vars:vars };\n            continue;\n        }\n        switch(state) {\n        case 0: case 1: err('Unexpected line');\n        case 2: \n            switch(w[0]) {\n            case 'N': if(N===0) N = w[1]; else err('Two or more N rows'); break;\n            case 'L': rows[w[1]] = rl; sign[rl] = 1; b[rl] = 0; ++rl; break;\n            case 'G': rows[w[1]] = rl; sign[rl] = -1;b[rl] = 0; ++rl; break;\n            case 'E': rows[w[1]] = rl; sign[rl] = 0;b[rl] = 0; ++rl; break;\n            default: err('Parse error '+numeric.prettyPrint(w));\n            }\n            break;\n        case 3:\n            if(!vars.hasOwnProperty(w[0])) { vars[w[0]] = nv; c[nv] = 0; A[nv] = numeric.rep([rl],0); ++nv; }\n            var p = vars[w[0]];\n            for(j=1;j<w.length;j+=2) {\n                if(w[j] === N) { c[p] = parseFloat(w[j+1]); continue; }\n                var q = rows[w[j]];\n                A[p][q] = (sign[q]<0?-1:1)*parseFloat(w[j+1]);\n            }\n            break;\n        case 4:\n            for(j=1;j<w.length;j+=2) b[rows[w[j]]] = (sign[rows[w[j]]]<0?-1:1)*parseFloat(w[j+1]);\n            break;\n        case 5: /*FIXME*/ break;\n        case 6: err('Internal error');\n        }\n    }\n    err('Reached end of file without ENDATA');\n}\n// seedrandom.js version 2.0.\n// Author: David Bau 4/2/2011\n//\n// Defines a method Math.seedrandom() that, when called, substitutes\n// an explicitly seeded RC4-based algorithm for Math.random().  Also\n// supports automatic seeding from local or network sources of entropy.\n//\n// Usage:\n//\n//   <script src=http://davidbau.com/encode/seedrandom-min.js></script>\n//\n//   Math.seedrandom('yipee'); Sets Math.random to a function that is\n//                             initialized using the given explicit seed.\n//\n//   Math.seedrandom();        Sets Math.random to a function that is\n//                             seeded using the current time, dom state,\n//                             and other accumulated local entropy.\n//                             The generated seed string is returned.\n//\n//   Math.seedrandom('yowza', true);\n//                             Seeds using the given explicit seed mixed\n//                             together with accumulated entropy.\n//\n//   <script src=\"http://bit.ly/srandom-512\"></script>\n//                             Seeds using physical random bits downloaded\n//                             from random.org.\n//\n//   <script src=\"https://jsonlib.appspot.com/urandom?callback=Math.seedrandom\">\n//   </script>                 Seeds using urandom bits from call.jsonlib.com,\n//                             which is faster than random.org.\n//\n// Examples:\n//\n//   Math.seedrandom(\"hello\");            // Use \"hello\" as the seed.\n//   document.write(Math.random());       // Always 0.5463663768140734\n//   document.write(Math.random());       // Always 0.43973793770592234\n//   var rng1 = Math.random;              // Remember the current prng.\n//\n//   var autoseed = Math.seedrandom();    // New prng with an automatic seed.\n//   document.write(Math.random());       // Pretty much unpredictable.\n//\n//   Math.random = rng1;                  // Continue \"hello\" prng sequence.\n//   document.write(Math.random());       // Always 0.554769432473455\n//\n//   Math.seedrandom(autoseed);           // Restart at the previous seed.\n//   document.write(Math.random());       // Repeat the 'unpredictable' value.\n//\n// Notes:\n//\n// Each time seedrandom('arg') is called, entropy from the passed seed\n// is accumulated in a pool to help generate future seeds for the\n// zero-argument form of Math.seedrandom, so entropy can be injected over\n// time by calling seedrandom with explicit data repeatedly.\n//\n// On speed - This javascript implementation of Math.random() is about\n// 3-10x slower than the built-in Math.random() because it is not native\n// code, but this is typically fast enough anyway.  Seeding is more expensive,\n// especially if you use auto-seeding.  Some details (timings on Chrome 4):\n//\n// Our Math.random()            - avg less than 0.002 milliseconds per call\n// seedrandom('explicit')       - avg less than 0.5 milliseconds per call\n// seedrandom('explicit', true) - avg less than 2 milliseconds per call\n// seedrandom()                 - avg about 38 milliseconds per call\n//\n// LICENSE (BSD):\n//\n// Copyright 2010 David Bau, all rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are met:\n// \n//   1. Redistributions of source code must retain the above copyright\n//      notice, this list of conditions and the following disclaimer.\n//\n//   2. Redistributions in binary form must reproduce the above copyright\n//      notice, this list of conditions and the following disclaimer in the\n//      documentation and/or other materials provided with the distribution.\n// \n//   3. Neither the name of this module nor the names of its contributors may\n//      be used to endorse or promote products derived from this software\n//      without specific prior written permission.\n// \n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n// \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n// LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n// A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n// OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n// SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n// LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n// DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n// THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n// (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n// OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n//\n/**\n * All code is in an anonymous closure to keep the global namespace clean.\n *\n * @param {number=} overflow \n * @param {number=} startdenom\n */\n\n// Patched by Seb so that seedrandom.js does not pollute the Math object.\n// My tests suggest that doing Math.trouble = 1 makes Math lookups about 5%\n// slower.\nnumeric.seedrandom = { pow:Math.pow, random:Math.random };\n\n(function (pool, math, width, chunks, significance, overflow, startdenom) {\n\n\n//\n// seedrandom()\n// This is the seedrandom function described above.\n//\nmath['seedrandom'] = function seedrandom(seed, use_entropy) {\n  var key = [];\n  var arc4;\n\n  // Flatten the seed string or build one from local entropy if needed.\n  seed = mixkey(flatten(\n    use_entropy ? [seed, pool] :\n    arguments.length ? seed :\n    [new Date().getTime(), pool, window], 3), key);\n\n  // Use the seed to initialize an ARC4 generator.\n  arc4 = new ARC4(key);\n\n  // Mix the randomness into accumulated entropy.\n  mixkey(arc4.S, pool);\n\n  // Override Math.random\n\n  // This function returns a random double in [0, 1) that contains\n  // randomness in every bit of the mantissa of the IEEE 754 value.\n\n  math['random'] = function random() {  // Closure to return a random double:\n    var n = arc4.g(chunks);             // Start with a numerator n < 2 ^ 48\n    var d = startdenom;                 //   and denominator d = 2 ^ 48.\n    var x = 0;                          //   and no 'extra last byte'.\n    while (n < significance) {          // Fill up all significant digits by\n      n = (n + x) * width;              //   shifting numerator and\n      d *= width;                       //   denominator and generating a\n      x = arc4.g(1);                    //   new least-significant-byte.\n    }\n    while (n >= overflow) {             // To avoid rounding up, before adding\n      n /= 2;                           //   last byte, shift everything\n      d /= 2;                           //   right using integer math until\n      x >>>= 1;                         //   we have exactly the desired bits.\n    }\n    return (n + x) / d;                 // Form the number within [0, 1).\n  };\n\n  // Return the seed that was used\n  return seed;\n};\n\n//\n// ARC4\n//\n// An ARC4 implementation.  The constructor takes a key in the form of\n// an array of at most (width) integers that should be 0 <= x < (width).\n//\n// The g(count) method returns a pseudorandom integer that concatenates\n// the next (count) outputs from ARC4.  Its return value is a number x\n// that is in the range 0 <= x < (width ^ count).\n//\n/** @constructor */\nfunction ARC4(key) {\n  var t, u, me = this, keylen = key.length;\n  var i = 0, j = me.i = me.j = me.m = 0;\n  me.S = [];\n  me.c = [];\n\n  // The empty key [] is treated as [0].\n  if (!keylen) { key = [keylen++]; }\n\n  // Set up S using the standard key scheduling algorithm.\n  while (i < width) { me.S[i] = i++; }\n  for (i = 0; i < width; i++) {\n    t = me.S[i];\n    j = lowbits(j + t + key[i % keylen]);\n    u = me.S[j];\n    me.S[i] = u;\n    me.S[j] = t;\n  }\n\n  // The \"g\" method returns the next (count) outputs as one number.\n  me.g = function getnext(count) {\n    var s = me.S;\n    var i = lowbits(me.i + 1); var t = s[i];\n    var j = lowbits(me.j + t); var u = s[j];\n    s[i] = u;\n    s[j] = t;\n    var r = s[lowbits(t + u)];\n    while (--count) {\n      i = lowbits(i + 1); t = s[i];\n      j = lowbits(j + t); u = s[j];\n      s[i] = u;\n      s[j] = t;\n      r = r * width + s[lowbits(t + u)];\n    }\n    me.i = i;\n    me.j = j;\n    return r;\n  };\n  // For robust unpredictability discard an initial batch of values.\n  // See http://www.rsa.com/rsalabs/node.asp?id=2009\n  me.g(width);\n}\n\n//\n// flatten()\n// Converts an object tree to nested arrays of strings.\n//\n/** @param {Object=} result \n  * @param {string=} prop\n  * @param {string=} typ */\nfunction flatten(obj, depth, result, prop, typ) {\n  result = [];\n  typ = typeof(obj);\n  if (depth && typ == 'object') {\n    for (prop in obj) {\n      if (prop.indexOf('S') < 5) {    // Avoid FF3 bug (local/sessionStorage)\n        try { result.push(flatten(obj[prop], depth - 1)); } catch (e) {}\n      }\n    }\n  }\n  return (result.length ? result : obj + (typ != 'string' ? '\\0' : ''));\n}\n\n//\n// mixkey()\n// Mixes a string seed into a key that is an array of integers, and\n// returns a shortened string seed that is equivalent to the result key.\n//\n/** @param {number=} smear \n  * @param {number=} j */\nfunction mixkey(seed, key, smear, j) {\n  seed += '';                         // Ensure the seed is a string\n  smear = 0;\n  for (j = 0; j < seed.length; j++) {\n    key[lowbits(j)] =\n      lowbits((smear ^= key[lowbits(j)] * 19) + seed.charCodeAt(j));\n  }\n  seed = '';\n  for (j in key) { seed += String.fromCharCode(key[j]); }\n  return seed;\n}\n\n//\n// lowbits()\n// A quick \"n mod width\" for width a power of 2.\n//\nfunction lowbits(n) { return n & (width - 1); }\n\n//\n// The following constants are related to IEEE 754 limits.\n//\nstartdenom = math.pow(width, chunks);\nsignificance = math.pow(2, significance);\noverflow = significance * 2;\n\n//\n// When seedrandom.js is loaded, we immediately mix a few bits\n// from the built-in RNG into the entropy pool.  Because we do\n// not want to intefere with determinstic PRNG state later,\n// seedrandom will not call math.random on its own again after\n// initialization.\n//\nmixkey(math.random(), pool);\n\n// End anonymous scope, and pass initial values.\n}(\n  [],   // pool: entropy pool starts empty\n  numeric.seedrandom, // math: package containing random, pow, and seedrandom\n  256,  // width: each RC4 output is 0 <= x < 256\n  6,    // chunks: at least six RC4 outputs for each double\n  52    // significance: there are 52 significant digits in a double\n  ));\n/* This file is a slightly modified version of quadprog.js from Alberto Santini.\n * It has been slightly modified by Sébastien Loisel to make sure that it handles\n * 0-based Arrays instead of 1-based Arrays.\n * License is in resources/LICENSE.quadprog */\n(function(exports) {\n\nfunction base0to1(A) {\n    if(typeof A !== \"object\") { return A; }\n    var ret = [], i,n=A.length;\n    for(i=0;i<n;i++) ret[i+1] = base0to1(A[i]);\n    return ret;\n}\nfunction base1to0(A) {\n    if(typeof A !== \"object\") { return A; }\n    var ret = [], i,n=A.length;\n    for(i=1;i<n;i++) ret[i-1] = base1to0(A[i]);\n    return ret;\n}\n\nfunction dpori(a, lda, n) {\n    var i, j, k, kp1, t;\n\n    for (k = 1; k <= n; k = k + 1) {\n        a[k][k] = 1 / a[k][k];\n        t = -a[k][k];\n        //~ dscal(k - 1, t, a[1][k], 1);\n        for (i = 1; i < k; i = i + 1) {\n            a[i][k] = t * a[i][k];\n        }\n\n        kp1 = k + 1;\n        if (n < kp1) {\n            break;\n        }\n        for (j = kp1; j <= n; j = j + 1) {\n            t = a[k][j];\n            a[k][j] = 0;\n            //~ daxpy(k, t, a[1][k], 1, a[1][j], 1);\n            for (i = 1; i <= k; i = i + 1) {\n                a[i][j] = a[i][j] + (t * a[i][k]);\n            }\n        }\n    }\n\n}\n\nfunction dposl(a, lda, n, b) {\n    var i, k, kb, t;\n\n    for (k = 1; k <= n; k = k + 1) {\n        //~ t = ddot(k - 1, a[1][k], 1, b[1], 1);\n        t = 0;\n        for (i = 1; i < k; i = i + 1) {\n            t = t + (a[i][k] * b[i]);\n        }\n\n        b[k] = (b[k] - t) / a[k][k];\n    }\n\n    for (kb = 1; kb <= n; kb = kb + 1) {\n        k = n + 1 - kb;\n        b[k] = b[k] / a[k][k];\n        t = -b[k];\n        //~ daxpy(k - 1, t, a[1][k], 1, b[1], 1);\n        for (i = 1; i < k; i = i + 1) {\n            b[i] = b[i] + (t * a[i][k]);\n        }\n    }\n}\n\nfunction dpofa(a, lda, n, info) {\n    var i, j, jm1, k, t, s;\n\n    for (j = 1; j <= n; j = j + 1) {\n        info[1] = j;\n        s = 0;\n        jm1 = j - 1;\n        if (jm1 < 1) {\n            s = a[j][j] - s;\n            if (s <= 0) {\n                break;\n            }\n            a[j][j] = Math.sqrt(s);\n        } else {\n            for (k = 1; k <= jm1; k = k + 1) {\n                //~ t = a[k][j] - ddot(k - 1, a[1][k], 1, a[1][j], 1);\n                t = a[k][j];\n                for (i = 1; i < k; i = i + 1) {\n                    t = t - (a[i][j] * a[i][k]);\n                }\n                t = t / a[k][k];\n                a[k][j] = t;\n                s = s + t * t;\n            }\n            s = a[j][j] - s;\n            if (s <= 0) {\n                break;\n            }\n            a[j][j] = Math.sqrt(s);\n        }\n        info[1] = 0;\n    }\n}\n\nfunction qpgen2(dmat, dvec, fddmat, n, sol, crval, amat,\n    bvec, fdamat, q, meq, iact, nact, iter, work, ierr) {\n\n    var i, j, l, l1, info, it1, iwzv, iwrv, iwrm, iwsv, iwuv, nvl, r, iwnbv,\n        temp, sum, t1, tt, gc, gs, nu,\n        t1inf, t2min,\n        vsmall, tmpa, tmpb,\n        go;\n\n    r = Math.min(n, q);\n    l = 2 * n + (r * (r + 5)) / 2 + 2 * q + 1;\n\n    vsmall = 1.0e-60;\n    do {\n        vsmall = vsmall + vsmall;\n        tmpa = 1 + 0.1 * vsmall;\n        tmpb = 1 + 0.2 * vsmall;\n    } while (tmpa <= 1 || tmpb <= 1);\n\n    for (i = 1; i <= n; i = i + 1) {\n        work[i] = dvec[i];\n    }\n    for (i = n + 1; i <= l; i = i + 1) {\n        work[i] = 0;\n    }\n    for (i = 1; i <= q; i = i + 1) {\n        iact[i] = 0;\n    }\n\n    info = [];\n\n    if (ierr[1] === 0) {\n        dpofa(dmat, fddmat, n, info);\n        if (info[1] !== 0) {\n            ierr[1] = 2;\n            return;\n        }\n        dposl(dmat, fddmat, n, dvec);\n        dpori(dmat, fddmat, n);\n    } else {\n        for (j = 1; j <= n; j = j + 1) {\n            sol[j] = 0;\n            for (i = 1; i <= j; i = i + 1) {\n                sol[j] = sol[j] + dmat[i][j] * dvec[i];\n            }\n        }\n        for (j = 1; j <= n; j = j + 1) {\n            dvec[j] = 0;\n            for (i = j; i <= n; i = i + 1) {\n                dvec[j] = dvec[j] + dmat[j][i] * sol[i];\n            }\n        }\n    }\n\n    crval[1] = 0;\n    for (j = 1; j <= n; j = j + 1) {\n        sol[j] = dvec[j];\n        crval[1] = crval[1] + work[j] * sol[j];\n        work[j] = 0;\n        for (i = j + 1; i <= n; i = i + 1) {\n            dmat[i][j] = 0;\n        }\n    }\n    crval[1] = -crval[1] / 2;\n    ierr[1] = 0;\n\n    iwzv = n;\n    iwrv = iwzv + n;\n    iwuv = iwrv + r;\n    iwrm = iwuv + r + 1;\n    iwsv = iwrm + (r * (r + 1)) / 2;\n    iwnbv = iwsv + q;\n\n    for (i = 1; i <= q; i = i + 1) {\n        sum = 0;\n        for (j = 1; j <= n; j = j + 1) {\n            sum = sum + amat[j][i] * amat[j][i];\n        }\n        work[iwnbv + i] = Math.sqrt(sum);\n    }\n    nact = 0;\n    iter[1] = 0;\n    iter[2] = 0;\n\n    function fn_goto_50() {\n        iter[1] = iter[1] + 1;\n\n        l = iwsv;\n        for (i = 1; i <= q; i = i + 1) {\n            l = l + 1;\n            sum = -bvec[i];\n            for (j = 1; j <= n; j = j + 1) {\n                sum = sum + amat[j][i] * sol[j];\n            }\n            if (Math.abs(sum) < vsmall) {\n                sum = 0;\n            }\n            if (i > meq) {\n                work[l] = sum;\n            } else {\n                work[l] = -Math.abs(sum);\n                if (sum > 0) {\n                    for (j = 1; j <= n; j = j + 1) {\n                        amat[j][i] = -amat[j][i];\n                    }\n                    bvec[i] = -bvec[i];\n                }\n            }\n        }\n\n        for (i = 1; i <= nact; i = i + 1) {\n            work[iwsv + iact[i]] = 0;\n        }\n\n        nvl = 0;\n        temp = 0;\n        for (i = 1; i <= q; i = i + 1) {\n            if (work[iwsv + i] < temp * work[iwnbv + i]) {\n                nvl = i;\n                temp = work[iwsv + i] / work[iwnbv + i];\n            }\n        }\n        if (nvl === 0) {\n            return 999;\n        }\n\n        return 0;\n    }\n\n    function fn_goto_55() {\n        for (i = 1; i <= n; i = i + 1) {\n            sum = 0;\n            for (j = 1; j <= n; j = j + 1) {\n                sum = sum + dmat[j][i] * amat[j][nvl];\n            }\n            work[i] = sum;\n        }\n\n        l1 = iwzv;\n        for (i = 1; i <= n; i = i + 1) {\n            work[l1 + i] = 0;\n        }\n        for (j = nact + 1; j <= n; j = j + 1) {\n            for (i = 1; i <= n; i = i + 1) {\n                work[l1 + i] = work[l1 + i] + dmat[i][j] * work[j];\n            }\n        }\n\n        t1inf = true;\n        for (i = nact; i >= 1; i = i - 1) {\n            sum = work[i];\n            l = iwrm + (i * (i + 3)) / 2;\n            l1 = l - i;\n            for (j = i + 1; j <= nact; j = j + 1) {\n                sum = sum - work[l] * work[iwrv + j];\n                l = l + j;\n            }\n            sum = sum / work[l1];\n            work[iwrv + i] = sum;\n            if (iact[i] < meq) {\n                // continue;\n                break;\n            }\n            if (sum < 0) {\n                // continue;\n                break;\n            }\n            t1inf = false;\n            it1 = i;\n        }\n\n        if (!t1inf) {\n            t1 = work[iwuv + it1] / work[iwrv + it1];\n            for (i = 1; i <= nact; i = i + 1) {\n                if (iact[i] < meq) {\n                    // continue;\n                    break;\n                }\n                if (work[iwrv + i] < 0) {\n                    // continue;\n                    break;\n                }\n                temp = work[iwuv + i] / work[iwrv + i];\n                if (temp < t1) {\n                    t1 = temp;\n                    it1 = i;\n                }\n            }\n        }\n\n        sum = 0;\n        for (i = iwzv + 1; i <= iwzv + n; i = i + 1) {\n            sum = sum + work[i] * work[i];\n        }\n        if (Math.abs(sum) <= vsmall) {\n            if (t1inf) {\n                ierr[1] = 1;\n                // GOTO 999\n                return 999;\n            } else {\n                for (i = 1; i <= nact; i = i + 1) {\n                    work[iwuv + i] = work[iwuv + i] - t1 * work[iwrv + i];\n                }\n                work[iwuv + nact + 1] = work[iwuv + nact + 1] + t1;\n                // GOTO 700\n                return 700;\n            }\n        } else {\n            sum = 0;\n            for (i = 1; i <= n; i = i + 1) {\n                sum = sum + work[iwzv + i] * amat[i][nvl];\n            }\n            tt = -work[iwsv + nvl] / sum;\n            t2min = true;\n            if (!t1inf) {\n                if (t1 < tt) {\n                    tt = t1;\n                    t2min = false;\n                }\n            }\n\n            for (i = 1; i <= n; i = i + 1) {\n                sol[i] = sol[i] + tt * work[iwzv + i];\n                if (Math.abs(sol[i]) < vsmall) {\n                    sol[i] = 0;\n                }\n            }\n\n            crval[1] = crval[1] + tt * sum * (tt / 2 + work[iwuv + nact + 1]);\n            for (i = 1; i <= nact; i = i + 1) {\n                work[iwuv + i] = work[iwuv + i] - tt * work[iwrv + i];\n            }\n            work[iwuv + nact + 1] = work[iwuv + nact + 1] + tt;\n\n            if (t2min) {\n                nact = nact + 1;\n                iact[nact] = nvl;\n\n                l = iwrm + ((nact - 1) * nact) / 2 + 1;\n                for (i = 1; i <= nact - 1; i = i + 1) {\n                    work[l] = work[i];\n                    l = l + 1;\n                }\n\n                if (nact === n) {\n                    work[l] = work[n];\n                } else {\n                    for (i = n; i >= nact + 1; i = i - 1) {\n                        if (work[i] === 0) {\n                            // continue;\n                            break;\n                        }\n                        gc = Math.max(Math.abs(work[i - 1]), Math.abs(work[i]));\n                        gs = Math.min(Math.abs(work[i - 1]), Math.abs(work[i]));\n                        if (work[i - 1] >= 0) {\n                            temp = Math.abs(gc * Math.sqrt(1 + gs * gs / (gc * gc)));\n                        } else {\n                            temp = -Math.abs(gc * Math.sqrt(1 + gs * gs / (gc * gc)));\n                        }\n                        gc = work[i - 1] / temp;\n                        gs = work[i] / temp;\n\n                        if (gc === 1) {\n                            // continue;\n                            break;\n                        }\n                        if (gc === 0) {\n                            work[i - 1] = gs * temp;\n                            for (j = 1; j <= n; j = j + 1) {\n                                temp = dmat[j][i - 1];\n                                dmat[j][i - 1] = dmat[j][i];\n                                dmat[j][i] = temp;\n                            }\n                        } else {\n                            work[i - 1] = temp;\n                            nu = gs / (1 + gc);\n                            for (j = 1; j <= n; j = j + 1) {\n                                temp = gc * dmat[j][i - 1] + gs * dmat[j][i];\n                                dmat[j][i] = nu * (dmat[j][i - 1] + temp) - dmat[j][i];\n                                dmat[j][i - 1] = temp;\n\n                            }\n                        }\n                    }\n                    work[l] = work[nact];\n                }\n            } else {\n                sum = -bvec[nvl];\n                for (j = 1; j <= n; j = j + 1) {\n                    sum = sum + sol[j] * amat[j][nvl];\n                }\n                if (nvl > meq) {\n                    work[iwsv + nvl] = sum;\n                } else {\n                    work[iwsv + nvl] = -Math.abs(sum);\n                    if (sum > 0) {\n                        for (j = 1; j <= n; j = j + 1) {\n                            amat[j][nvl] = -amat[j][nvl];\n                        }\n                        bvec[nvl] = -bvec[nvl];\n                    }\n                }\n                // GOTO 700\n                return 700;\n            }\n        }\n\n        return 0;\n    }\n\n    function fn_goto_797() {\n        l = iwrm + (it1 * (it1 + 1)) / 2 + 1;\n        l1 = l + it1;\n        if (work[l1] === 0) {\n            // GOTO 798\n            return 798;\n        }\n        gc = Math.max(Math.abs(work[l1 - 1]), Math.abs(work[l1]));\n        gs = Math.min(Math.abs(work[l1 - 1]), Math.abs(work[l1]));\n        if (work[l1 - 1] >= 0) {\n            temp = Math.abs(gc * Math.sqrt(1 + gs * gs / (gc * gc)));\n        } else {\n            temp = -Math.abs(gc * Math.sqrt(1 + gs * gs / (gc * gc)));\n        }\n        gc = work[l1 - 1] / temp;\n        gs = work[l1] / temp;\n\n        if (gc === 1) {\n            // GOTO 798\n            return 798;\n        }\n        if (gc === 0) {\n            for (i = it1 + 1; i <= nact; i = i + 1) {\n                temp = work[l1 - 1];\n                work[l1 - 1] = work[l1];\n                work[l1] = temp;\n                l1 = l1 + i;\n            }\n            for (i = 1; i <= n; i = i + 1) {\n                temp = dmat[i][it1];\n                dmat[i][it1] = dmat[i][it1 + 1];\n                dmat[i][it1 + 1] = temp;\n            }\n        } else {\n            nu = gs / (1 + gc);\n            for (i = it1 + 1; i <= nact; i = i + 1) {\n                temp = gc * work[l1 - 1] + gs * work[l1];\n                work[l1] = nu * (work[l1 - 1] + temp) - work[l1];\n                work[l1 - 1] = temp;\n                l1 = l1 + i;\n            }\n            for (i = 1; i <= n; i = i + 1) {\n                temp = gc * dmat[i][it1] + gs * dmat[i][it1 + 1];\n                dmat[i][it1 + 1] = nu * (dmat[i][it1] + temp) - dmat[i][it1 + 1];\n                dmat[i][it1] = temp;\n            }\n        }\n\n        return 0;\n    }\n\n    function fn_goto_798() {\n        l1 = l - it1;\n        for (i = 1; i <= it1; i = i + 1) {\n            work[l1] = work[l];\n            l = l + 1;\n            l1 = l1 + 1;\n        }\n\n        work[iwuv + it1] = work[iwuv + it1 + 1];\n        iact[it1] = iact[it1 + 1];\n        it1 = it1 + 1;\n        if (it1 < nact) {\n            // GOTO 797\n            return 797;\n        }\n\n        return 0;\n    }\n\n    function fn_goto_799() {\n        work[iwuv + nact] = work[iwuv + nact + 1];\n        work[iwuv + nact + 1] = 0;\n        iact[nact] = 0;\n        nact = nact - 1;\n        iter[2] = iter[2] + 1;\n\n        return 0;\n    }\n\n    go = 0;\n    while (true) {\n        go = fn_goto_50();\n        if (go === 999) {\n            return;\n        }\n        while (true) {\n            go = fn_goto_55();\n            if (go === 0) {\n                break;\n            }\n            if (go === 999) {\n                return;\n            }\n            if (go === 700) {\n                if (it1 === nact) {\n                    fn_goto_799();\n                } else {\n                    while (true) {\n                        fn_goto_797();\n                        go = fn_goto_798();\n                        if (go !== 797) {\n                            break;\n                        }\n                    }\n                    fn_goto_799();\n                }\n            }\n        }\n    }\n\n}\n\nfunction solveQP(Dmat, dvec, Amat, bvec, meq, factorized) {\n    Dmat = base0to1(Dmat);\n    dvec = base0to1(dvec);\n    Amat = base0to1(Amat);\n    var i, n, q,\n        nact, r,\n        crval = [], iact = [], sol = [], work = [], iter = [],\n        message;\n\n    meq = meq || 0;\n    factorized = factorized ? base0to1(factorized) : [undefined, 0];\n    bvec = bvec ? base0to1(bvec) : [];\n\n    // In Fortran the array index starts from 1\n    n = Dmat.length - 1;\n    q = Amat[1].length - 1;\n\n    if (!bvec) {\n        for (i = 1; i <= q; i = i + 1) {\n            bvec[i] = 0;\n        }\n    }\n    for (i = 1; i <= q; i = i + 1) {\n        iact[i] = 0;\n    }\n    nact = 0;\n    r = Math.min(n, q);\n    for (i = 1; i <= n; i = i + 1) {\n        sol[i] = 0;\n    }\n    crval[1] = 0;\n    for (i = 1; i <= (2 * n + (r * (r + 5)) / 2 + 2 * q + 1); i = i + 1) {\n        work[i] = 0;\n    }\n    for (i = 1; i <= 2; i = i + 1) {\n        iter[i] = 0;\n    }\n\n    qpgen2(Dmat, dvec, n, n, sol, crval, Amat,\n        bvec, n, q, meq, iact, nact, iter, work, factorized);\n\n    message = \"\";\n    if (factorized[1] === 1) {\n        message = \"constraints are inconsistent, no solution!\";\n    }\n    if (factorized[1] === 2) {\n        message = \"matrix D in quadratic function is not positive definite!\";\n    }\n\n    return {\n        solution: base1to0(sol),\n        value: base1to0(crval),\n        unconstrained_solution: base1to0(dvec),\n        iterations: base1to0(iter),\n        iact: base1to0(iact),\n        message: message\n    };\n}\nexports.solveQP = solveQP;\n}(numeric));\n/*\r\nShanti Rao sent me this routine by private email. I had to modify it\r\nslightly to work on Arrays instead of using a Matrix object.\r\nIt is apparently translated from http://stitchpanorama.sourceforge.net/Python/svd.py\r\n*/\r\n\r\nnumeric.svd= function svd(A) {\r\n    var temp;\r\n//Compute the thin SVD from G. H. Golub and C. Reinsch, Numer. Math. 14, 403-420 (1970)\r\n\tvar prec= numeric.epsilon; //Math.pow(2,-52) // assumes double prec\r\n\tvar tolerance= 1.e-64/prec;\r\n\tvar itmax= 50;\r\n\tvar c=0;\r\n\tvar i=0;\r\n\tvar j=0;\r\n\tvar k=0;\r\n\tvar l=0;\r\n\t\r\n\tvar u= numeric.clone(A);\r\n\tvar m= u.length;\r\n\t\r\n\tvar n= u[0].length;\r\n\t\r\n\tif (m < n) throw \"Need more rows than columns\"\r\n\t\r\n\tvar e = new Array(n);\r\n\tvar q = new Array(n);\r\n\tfor (i=0; i<n; i++) e[i] = q[i] = 0.0;\r\n\tvar v = numeric.rep([n,n],0);\r\n//\tv.zero();\r\n\t\r\n \tfunction pythag(a,b)\r\n \t{\r\n\t\ta = Math.abs(a)\r\n\t\tb = Math.abs(b)\r\n\t\tif (a > b)\r\n\t\t\treturn a*Math.sqrt(1.0+(b*b/a/a))\r\n\t\telse if (b == 0.0) \r\n\t\t\treturn a\r\n\t\treturn b*Math.sqrt(1.0+(a*a/b/b))\r\n\t}\r\n\r\n\t//Householder's reduction to bidiagonal form\r\n\r\n\tvar f= 0.0;\r\n\tvar g= 0.0;\r\n\tvar h= 0.0;\r\n\tvar x= 0.0;\r\n\tvar y= 0.0;\r\n\tvar z= 0.0;\r\n\tvar s= 0.0;\r\n\t\r\n\tfor (i=0; i < n; i++)\r\n\t{\t\r\n\t\te[i]= g;\r\n\t\ts= 0.0;\r\n\t\tl= i+1;\r\n\t\tfor (j=i; j < m; j++) \r\n\t\t\ts += (u[j][i]*u[j][i]);\r\n\t\tif (s <= tolerance)\r\n\t\t\tg= 0.0;\r\n\t\telse\r\n\t\t{\t\r\n\t\t\tf= u[i][i];\r\n\t\t\tg= Math.sqrt(s);\r\n\t\t\tif (f >= 0.0) g= -g;\r\n\t\t\th= f*g-s\r\n\t\t\tu[i][i]=f-g;\r\n\t\t\tfor (j=l; j < n; j++)\r\n\t\t\t{\r\n\t\t\t\ts= 0.0\r\n\t\t\t\tfor (k=i; k < m; k++) \r\n\t\t\t\t\ts += u[k][i]*u[k][j]\r\n\t\t\t\tf= s/h\r\n\t\t\t\tfor (k=i; k < m; k++) \r\n\t\t\t\t\tu[k][j]+=f*u[k][i]\r\n\t\t\t}\r\n\t\t}\r\n\t\tq[i]= g\r\n\t\ts= 0.0\r\n\t\tfor (j=l; j < n; j++) \r\n\t\t\ts= s + u[i][j]*u[i][j]\r\n\t\tif (s <= tolerance)\r\n\t\t\tg= 0.0\r\n\t\telse\r\n\t\t{\t\r\n\t\t\tf= u[i][i+1]\r\n\t\t\tg= Math.sqrt(s)\r\n\t\t\tif (f >= 0.0) g= -g\r\n\t\t\th= f*g - s\r\n\t\t\tu[i][i+1] = f-g;\r\n\t\t\tfor (j=l; j < n; j++) e[j]= u[i][j]/h\r\n\t\t\tfor (j=l; j < m; j++)\r\n\t\t\t{\t\r\n\t\t\t\ts=0.0\r\n\t\t\t\tfor (k=l; k < n; k++) \r\n\t\t\t\t\ts += (u[j][k]*u[i][k])\r\n\t\t\t\tfor (k=l; k < n; k++) \r\n\t\t\t\t\tu[j][k]+=s*e[k]\r\n\t\t\t}\t\r\n\t\t}\r\n\t\ty= Math.abs(q[i])+Math.abs(e[i])\r\n\t\tif (y>x) \r\n\t\t\tx=y\r\n\t}\r\n\t\r\n\t// accumulation of right hand gtransformations\r\n\tfor (i=n-1; i != -1; i+= -1)\r\n\t{\t\r\n\t\tif (g != 0.0)\r\n\t\t{\r\n\t\t \th= g*u[i][i+1]\r\n\t\t\tfor (j=l; j < n; j++) \r\n\t\t\t\tv[j][i]=u[i][j]/h\r\n\t\t\tfor (j=l; j < n; j++)\r\n\t\t\t{\t\r\n\t\t\t\ts=0.0\r\n\t\t\t\tfor (k=l; k < n; k++) \r\n\t\t\t\t\ts += u[i][k]*v[k][j]\r\n\t\t\t\tfor (k=l; k < n; k++) \r\n\t\t\t\t\tv[k][j]+=(s*v[k][i])\r\n\t\t\t}\t\r\n\t\t}\r\n\t\tfor (j=l; j < n; j++)\r\n\t\t{\r\n\t\t\tv[i][j] = 0;\r\n\t\t\tv[j][i] = 0;\r\n\t\t}\r\n\t\tv[i][i] = 1;\r\n\t\tg= e[i]\r\n\t\tl= i\r\n\t}\r\n\t\r\n\t// accumulation of left hand transformations\r\n\tfor (i=n-1; i != -1; i+= -1)\r\n\t{\t\r\n\t\tl= i+1\r\n\t\tg= q[i]\r\n\t\tfor (j=l; j < n; j++) \r\n\t\t\tu[i][j] = 0;\r\n\t\tif (g != 0.0)\r\n\t\t{\r\n\t\t\th= u[i][i]*g\r\n\t\t\tfor (j=l; j < n; j++)\r\n\t\t\t{\r\n\t\t\t\ts=0.0\r\n\t\t\t\tfor (k=l; k < m; k++) s += u[k][i]*u[k][j];\r\n\t\t\t\tf= s/h\r\n\t\t\t\tfor (k=i; k < m; k++) u[k][j]+=f*u[k][i];\r\n\t\t\t}\r\n\t\t\tfor (j=i; j < m; j++) u[j][i] = u[j][i]/g;\r\n\t\t}\r\n\t\telse\r\n\t\t\tfor (j=i; j < m; j++) u[j][i] = 0;\r\n\t\tu[i][i] += 1;\r\n\t}\r\n\t\r\n\t// diagonalization of the bidiagonal form\r\n\tprec= prec*x\r\n\tfor (k=n-1; k != -1; k+= -1)\r\n\t{\r\n\t\tfor (var iteration=0; iteration < itmax; iteration++)\r\n\t\t{\t// test f splitting\r\n\t\t\tvar test_convergence = false\r\n\t\t\tfor (l=k; l != -1; l+= -1)\r\n\t\t\t{\t\r\n\t\t\t\tif (Math.abs(e[l]) <= prec)\r\n\t\t\t\t{\ttest_convergence= true\r\n\t\t\t\t\tbreak \r\n\t\t\t\t}\r\n\t\t\t\tif (Math.abs(q[l-1]) <= prec)\r\n\t\t\t\t\tbreak \r\n\t\t\t}\r\n\t\t\tif (!test_convergence)\r\n\t\t\t{\t// cancellation of e[l] if l>0\r\n\t\t\t\tc= 0.0\r\n\t\t\t\ts= 1.0\r\n\t\t\t\tvar l1= l-1\r\n\t\t\t\tfor (i =l; i<k+1; i++)\r\n\t\t\t\t{\t\r\n\t\t\t\t\tf= s*e[i]\r\n\t\t\t\t\te[i]= c*e[i]\r\n\t\t\t\t\tif (Math.abs(f) <= prec)\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t\tg= q[i]\r\n\t\t\t\t\th= pythag(f,g)\r\n\t\t\t\t\tq[i]= h\r\n\t\t\t\t\tc= g/h\r\n\t\t\t\t\ts= -f/h\r\n\t\t\t\t\tfor (j=0; j < m; j++)\r\n\t\t\t\t\t{\t\r\n\t\t\t\t\t\ty= u[j][l1]\r\n\t\t\t\t\t\tz= u[j][i]\r\n\t\t\t\t\t\tu[j][l1] =  y*c+(z*s)\r\n\t\t\t\t\t\tu[j][i] = -y*s+(z*c)\r\n\t\t\t\t\t} \r\n\t\t\t\t}\t\r\n\t\t\t}\r\n\t\t\t// test f convergence\r\n\t\t\tz= q[k]\r\n\t\t\tif (l== k)\r\n\t\t\t{\t//convergence\r\n\t\t\t\tif (z<0.0)\r\n\t\t\t\t{\t//q[k] is made non-negative\r\n\t\t\t\t\tq[k]= -z\r\n\t\t\t\t\tfor (j=0; j < n; j++)\r\n\t\t\t\t\t\tv[j][k] = -v[j][k]\r\n\t\t\t\t}\r\n\t\t\t\tbreak  //break out of iteration loop and move on to next k value\r\n\t\t\t}\r\n\t\t\tif (iteration >= itmax-1)\r\n\t\t\t\tthrow 'Error: no convergence.'\r\n\t\t\t// shift from bottom 2x2 minor\r\n\t\t\tx= q[l]\r\n\t\t\ty= q[k-1]\r\n\t\t\tg= e[k-1]\r\n\t\t\th= e[k]\r\n\t\t\tf= ((y-z)*(y+z)+(g-h)*(g+h))/(2.0*h*y)\r\n\t\t\tg= pythag(f,1.0)\r\n\t\t\tif (f < 0.0)\r\n\t\t\t\tf= ((x-z)*(x+z)+h*(y/(f-g)-h))/x\r\n\t\t\telse\r\n\t\t\t\tf= ((x-z)*(x+z)+h*(y/(f+g)-h))/x\r\n\t\t\t// next QR transformation\r\n\t\t\tc= 1.0\r\n\t\t\ts= 1.0\r\n\t\t\tfor (i=l+1; i< k+1; i++)\r\n\t\t\t{\t\r\n\t\t\t\tg= e[i]\r\n\t\t\t\ty= q[i]\r\n\t\t\t\th= s*g\r\n\t\t\t\tg= c*g\r\n\t\t\t\tz= pythag(f,h)\r\n\t\t\t\te[i-1]= z\r\n\t\t\t\tc= f/z\r\n\t\t\t\ts= h/z\r\n\t\t\t\tf= x*c+g*s\r\n\t\t\t\tg= -x*s+g*c\r\n\t\t\t\th= y*s\r\n\t\t\t\ty= y*c\r\n\t\t\t\tfor (j=0; j < n; j++)\r\n\t\t\t\t{\t\r\n\t\t\t\t\tx= v[j][i-1]\r\n\t\t\t\t\tz= v[j][i]\r\n\t\t\t\t\tv[j][i-1] = x*c+z*s\r\n\t\t\t\t\tv[j][i] = -x*s+z*c\r\n\t\t\t\t}\r\n\t\t\t\tz= pythag(f,h)\r\n\t\t\t\tq[i-1]= z\r\n\t\t\t\tc= f/z\r\n\t\t\t\ts= h/z\r\n\t\t\t\tf= c*g+s*y\r\n\t\t\t\tx= -s*g+c*y\r\n\t\t\t\tfor (j=0; j < m; j++)\r\n\t\t\t\t{\r\n\t\t\t\t\ty= u[j][i-1]\r\n\t\t\t\t\tz= u[j][i]\r\n\t\t\t\t\tu[j][i-1] = y*c+z*s\r\n\t\t\t\t\tu[j][i] = -y*s+z*c\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\te[l]= 0.0\r\n\t\t\te[k]= f\r\n\t\t\tq[k]= x\r\n\t\t} \r\n\t}\r\n\t\t\r\n\t//vt= transpose(v)\r\n\t//return (u,q,vt)\r\n\tfor (i=0;i<q.length; i++) \r\n\t  if (q[i] < prec) q[i] = 0\r\n\t  \r\n\t//sort eigenvalues\t\r\n\tfor (i=0; i< n; i++)\r\n\t{\t \r\n\t//writeln(q)\r\n\t for (j=i-1; j >= 0; j--)\r\n\t {\r\n\t  if (q[j] < q[i])\r\n\t  {\r\n\t//  writeln(i,'-',j)\r\n\t   c = q[j]\r\n\t   q[j] = q[i]\r\n\t   q[i] = c\r\n\t   for(k=0;k<u.length;k++) { temp = u[k][i]; u[k][i] = u[k][j]; u[k][j] = temp; }\r\n\t   for(k=0;k<v.length;k++) { temp = v[k][i]; v[k][i] = v[k][j]; v[k][j] = temp; }\r\n//\t   u.swapCols(i,j)\r\n//\t   v.swapCols(i,j)\r\n\t   i = j\t   \r\n\t  }\r\n\t }\t\r\n\t}\r\n\t\r\n\treturn {U:u,S:q,V:v}\r\n};\r\n\r\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{}],2:[function(require,module,exports){\nconst { solve } = require('numeric');\n\n\nfunction Maptastic(config) {\n\n  var getProp = function(cfg, key, defaultVal){\n    if(cfg && cfg.hasOwnProperty(key) && (cfg[key] !== null)) {\n      return cfg[key];\n    } else {\n      return defaultVal;\n    }\n  }\n\n  var showLayerNames       = getProp(config, 'labels', true);\n  var showCrosshairs       = getProp(config, 'crosshairs', false);\n  var showScreenBounds     = getProp(config, 'screenbounds', false);\n  var autoSave             = getProp(config, 'autoSave', true);\n  var autoLoad             = getProp(config, 'autoLoad', true);\n  var layerList            = getProp(config, 'layers', []);\n  var layoutChangeListener = getProp(config, 'onchange', function(){} );\n  var localStorageKey      = 'maptastic.layers';\n\n  var canvas = null;\n  var context = null;\n\n  var layers = [];\n\n  var configActive = false;\n\n  var dragging = false;\n  var dragOffset = [];\n\n  var selectedLayer = null;\n  var selectedPoint = null;\n  var selectionRadius = 20;\n  var hoveringPoint = null;\n  var hoveringLayer = null;\n  var dragOperation = \"move\";\n  var isLayerSoloed = false;\n\n  var mousePosition = [];\n  var mouseDelta = [];\n  var mouseDownPoint = [];\n\n\t// Compute linear distance.\n\tvar distanceTo = function(x1, y1, x2, y2) {\n\t  return Math.sqrt(Math.pow(x2 - x1, 2) + Math.pow(y2 - y1, 2));\n\t}\n\n  var pointInTriangle = function(point, a, b, c) {\n\t\tvar s = a[1] * c[0] - a[0] * c[1] + (c[1] - a[1]) * point[0] + (a[0] - c[0]) * point[1];\n\t\tvar t = a[0] * b[1] - a[1] * b[0] + (a[1] - b[1]) * point[0] + (b[0] - a[0]) * point[1];\n\n\t\tif ((s < 0) != (t < 0)) {\n\t\treturn false;\n\t\t}\n\n\t\tvar A = -b[1] * c[0] + a[1] * (c[0] - b[0]) + a[0] * (b[1] - c[1]) + b[0] * c[1];\n\t\tif (A < 0.0) {\n\t\ts = -s;\n\t\tt = -t;\n\t\tA = -A;\n\t\t}\n\n\t\treturn s > 0 && t > 0 && (s + t) < A;\n\t};\n\n\t// determine if a point is inside a layer quad.\n\tvar pointInLayer = function(point, layer) {\n\t  var a = pointInTriangle(point, layer.targetPoints[0], layer.targetPoints[1], layer.targetPoints[2]);\n\t  var b = pointInTriangle(point, layer.targetPoints[3], layer.targetPoints[0], layer.targetPoints[2]);\n\t  return a || b;\n\t};\n\n  var notifyChangeListener = function() {\n    layoutChangeListener();\n  };\n\n\tvar draw = function() {\n\t  if(!configActive){\n\t    return;\n\t  }\n\t  \n\t  context.strokeStyle = \"red\";\n\t  context.lineWidth = 2;\n\t  context.clearRect(0, 0, canvas.width, canvas.height);\t  \n\t  \n\t  for(var i = 0; i < layers.length; i++) {\n\t    \n\t  \tif(layers[i].visible){\n\t  \t\tlayers[i].element.style.visibility = \"visible\";\n\n\t\t    // Draw layer rectangles.\n\t\t    context.beginPath();\n\t\t    if(layers[i] === hoveringLayer){\n\t\t      context.strokeStyle = \"red\";\n\t\t    } else if(layers[i] === selectedLayer){\n\t\t      context.strokeStyle = \"red\";\n\t\t    } else {\n\t\t      context.strokeStyle = \"white\";\n\t\t    }\n\t\t    context.moveTo(layers[i].targetPoints[0][0], layers[i].targetPoints[0][1]);\n\t\t    for(var p = 0; p < layers[i].targetPoints.length; p++) {\n\t\t      context.lineTo(layers[i].targetPoints[p][0], layers[i].targetPoints[p][1]);\n\t\t    }\n\t\t    context.lineTo(layers[i].targetPoints[3][0], layers[i].targetPoints[3][1]);\n\t\t    context.closePath();\n\t\t    context.stroke();\n\n\t\t    // Draw corner points.\n\t\t    var centerPoint = [0,0];\n\t\t    for(var p = 0; p < layers[i].targetPoints.length; p++) {\n\n\t\t      if(layers[i].targetPoints[p] === hoveringPoint){\n\t\t        context.strokeStyle = \"red\";\n\t\t      } else if( layers[i].targetPoints[p] === selectedPoint ) {\n\t\t        context.strokeStyle = \"red\";\n\t\t      } else {\n\t\t        context.strokeStyle = \"white\";\n\t\t      }\n\t\t      \n\t\t      centerPoint[0] += layers[i].targetPoints[p][0];\n\t\t      centerPoint[1] += layers[i].targetPoints[p][1];\n\t\t      \n\t\t      context.beginPath();\n\t\t      context.arc(layers[i].targetPoints[p][0], layers[i].targetPoints[p][1],\n\t\t        selectionRadius / 2, 0, 2 * Math.PI, false);\n\t\t      context.stroke();\n\t\t    }\n\n\t\t    // Find the average of the corner locations for an approximate center.\n\t\t    centerPoint[0] /= 4;\n\t\t    centerPoint[1] /= 4;\n\n\n\t\t    if(showLayerNames) {\n\t\t      // Draw the element ID in the center of the quad for reference.\n\t\t      var label = layers[i].element.id.toUpperCase();\n\t\t      context.font=\"16px sans-serif\";\n\t\t      context.textAlign = \"center\";\n\t\t      var metrics = context.measureText(label);\n\t\t      var size = [metrics.width + 8, 16 + 16]\n\t\t      context.fillStyle = \"white\";\n\t\t      context.fillRect(centerPoint[0] - size[0] / 2, centerPoint[1] - size[1] + 8, size[0], size[1]);\n\t\t      context.fillStyle = \"black\";\n\t\t      context.fillText(label, centerPoint[0], centerPoint[1]);\n\t\t    }\n\t    } else {\n\t  \t\tlayers[i].element.style.visibility = \"hidden\";\n\t  \t}\n\t  }\n\n\t  // Draw mouse crosshairs\n\t  if(showCrosshairs) {\n\t    context.strokeStyle = \"yellow\";\n\t    context.lineWidth = 1;\n\t    \n\t    context.beginPath();\n\t    \n\t    context.moveTo(mousePosition[0], 0);\n\t    context.lineTo(mousePosition[0], canvas.height);\n\n\t    context.moveTo(0, mousePosition[1]);\n\t    context.lineTo(canvas.width, mousePosition[1]);\n\t    \n\t    context.stroke();\n\t  }\n\n\t  if(showScreenBounds) {\n\n\t  \tcontext.fillStyle = \"black\";\n\t    context.lineWidth = 4;\n\t  \tcontext.fillRect(0,0,canvas.width,canvas.height);\n\t  \t\n\t  \tcontext.strokeStyle = \"#909090\";\n\t  \tcontext.beginPath();\n\t  \tvar stepX = canvas.width / 10;\n\t  \tvar stepY = canvas.height / 10;\n\n\t  \tfor(var i = 0; i < 10; i++) {\n\t  \t\tcontext.moveTo(i * stepX, 0);\n\t    \tcontext.lineTo(i * stepX, canvas.height);\n\n\t    \tcontext.moveTo(0, i * stepY);\n\t    \tcontext.lineTo(canvas.width, i * stepY);\n\t\t\t}\n\t    context.stroke();\n\t\t\t\n\t\t\tcontext.strokeStyle = \"white\";\n\t    context.strokeRect(2, 2, canvas.width-4,canvas.height-4);\n\n\t    var fontSize = Math.round(stepY * 0.6);\n\t    context.font = fontSize + \"px mono,sans-serif\";\n\t    context.fillRect(stepX*2+2, stepY*3+2, canvas.width-stepX*4-4, canvas.height-stepY*6-4);\n\t    context.fillStyle = \"white\";\n\t    context.fontSize = 20;\n\t    context.fillText(canvas.width + \" x \" + canvas.height, canvas.width/2, canvas.height/2 + (fontSize * 0.75));\n\t    context.fillText('display size', canvas.width/2, canvas.height/2 - (fontSize * 0.75));\n\t  }\n\t};\n\n\tvar swapLayerPoints = function(layerPoints, index1, index2){\n\t\tvar tx = layerPoints[index1][0];\n\t\tvar ty = layerPoints[index1][1];\n\t\tlayerPoints[index1][0] = layerPoints[index2][0];\n\t\tlayerPoints[index1][1] = layerPoints[index2][1];\n\t\tlayerPoints[index2][0] = tx;\n\t\tlayerPoints[index2][1] = ty;\n\t}\n\n\tvar init = function(){\n\t  canvas = document.createElement('canvas');\n\t  \n\t  canvas.style.display = 'none';\n\t  canvas.style.position = 'fixed';\n\t  canvas.style.top = '0px';\n\t  canvas.style.left = '0px';\n\t  canvas.style.zIndex = '1000000';\n\n\t  context = canvas.getContext('2d');\n\n\t  document.body.appendChild(canvas);\n\t  \n\t  window.addEventListener('resize', resize );\n\t  \n\t  // UI events\n\t  window.addEventListener('mousemove', mouseMove);\n\t  window.addEventListener('mouseup', mouseUp);\n\t  window.addEventListener('mousedown', mouseDown);\n\t  window.addEventListener('keydown', keyDown);\n\n\t  resize();\n\t};\n\n\tvar rotateLayer = function(layer, angle) {\n\t\tvar s = Math.sin(angle);\n\t\tvar c = Math.cos(angle);\n\n\t\tvar centerPoint = [0, 0];\n    for(var p = 0; p < layer.targetPoints.length; p++) {\n      centerPoint[0] += layer.targetPoints[p][0];\n      centerPoint[1] += layer.targetPoints[p][1];\n    }\n\n    centerPoint[0] /= 4;\n    centerPoint[1] /= 4;\n\n    for(var p = 0; p < layer.targetPoints.length; p++) {\n    \tvar px = layer.targetPoints[p][0] - centerPoint[0];\n    \tvar py = layer.targetPoints[p][1] - centerPoint[1];\n\n\t\t\tlayer.targetPoints[p][0] = (px * c) - (py * s) + centerPoint[0];\n    \tlayer.targetPoints[p][1] = (px * s) + (py * c) + centerPoint[1];\n    }\n\t}\n\n\tvar scaleLayer = function(layer, scale) {\n\n\t\tvar centerPoint = [0, 0];\n    for(var p = 0; p < layer.targetPoints.length; p++) {\n      centerPoint[0] += layer.targetPoints[p][0];\n      centerPoint[1] += layer.targetPoints[p][1];\n    }\n\n    centerPoint[0] /= 4;\n    centerPoint[1] /= 4;\n\n    for(var p = 0; p < layer.targetPoints.length; p++) {\n    \tvar px = layer.targetPoints[p][0] - centerPoint[0];\n    \tvar py = layer.targetPoints[p][1] - centerPoint[1];\n\n\t\t\tlayer.targetPoints[p][0] = (px * scale) + centerPoint[0];\n    \tlayer.targetPoints[p][1] = (py * scale) + centerPoint[1];\n    }\n\t}\n\n\tvar keyDown = function(event) {\n\t  if(!configActive){\n\t    if(event.keyCode == 32 && event.shiftKey){\n\t      setConfigEnabled(true);\n\t      return;\n\t    } else {\n\t      return;\n\t    }\n\t  }\n\n\t  var key = event.keyCode;\n\n\t  var increment = event.shiftKey ? 10 : 1;\n\t  var dirty = false;\n\t  var delta = [0, 0];\n\n\t  switch(key){\n\n\t    case 32: // spacebar\n\t      if(event.shiftKey){\n\t        setConfigEnabled(false);\n\t        return;\n\t      }\n\t    break;\n\n\t    case 37: // left arrow\n\t      delta[0] -= increment;\n\t    break;\n\n\t    case 38: // up arrow\n\t      delta[1] -= increment;\n\t    break;\n\n\t    case 39: // right arrow\n\t      delta[0] += increment;\n\t    break;\n\n\t    case 40: // down arrow\n\t      delta[1] += increment;\n\t    break;\n\n\t    case 67: // c key, toggle crosshairs\n\t      showCrosshairs = !showCrosshairs;\n\t      dirty = true;\n\t    break;\n\n\t    case 83: // s key, solo/unsolo quads\n\t      if(!isLayerSoloed) {\n\n\t      \tif(selectedLayer != null) {\n\t\t      \tfor(var i = 0; i < layers.length; i++){\n\t\t      \t\tlayers[i].visible = false;\n\t\t      \t}\n\t\t      \tselectedLayer.visible = true;\n\t\t      \tdirty = true;\n\t\t      \tisLayerSoloed = true;\n\t\t      }\n\t      } else {\n\t      \tfor(var i = 0; i < layers.length; i++){\n\t\t      \t\tlayers[i].visible = true;\n\t\t      \t}\n\t      \tisLayerSoloed = false;\n\t      \tdirty = true;\n\n\t      }\n\t    break;\n\n\t    case 66: // b key, toggle projector bounds rectangle.\n\t    \tshowScreenBounds = !showScreenBounds;\n\t    \tdraw();\n\t    break;\n\n\t    case 72: // h key, flip horizontal.\n\t    \tif(selectedLayer) {\n\t    \t\tswapLayerPoints(selectedLayer.sourcePoints, 0, 1);\n\t    \t\tswapLayerPoints(selectedLayer.sourcePoints, 3, 2);\n\t    \t\tupdateTransform();\n\t    \t\tdraw();\n\t    \t}\n\t    break;\n\n\t    case 86: // v key, flip vertical.\n\t    \tif(selectedLayer) {\n\t    \t\tswapLayerPoints(selectedLayer.sourcePoints, 0, 3);\n\t    \t\tswapLayerPoints(selectedLayer.sourcePoints, 1, 2);\n\t    \t\tupdateTransform();\n\t    \t\tdraw();\n\t    \t}\n\t    break;\n\n\t    case 82: // r key, rotate 90 degrees.\n\t    \tif(selectedLayer) {\n\t    \t\trotateLayer(selectedLayer, Math.PI / 2);\n\t    \t\t//rotateLayer(selectedLayer, 0.002);\n\t    \t\tupdateTransform();\n\t    \t\tdraw();\n\t    \t}\n\t    break;\n\t  }\n\n\t  // if a layer or point is selected, add the delta amounts (set above via arrow keys)\n\t  if(!showScreenBounds) {\n\t\t  if(selectedPoint) {\n\t\t    selectedPoint[0] += delta[0];\n\t\t    selectedPoint[1] += delta[1];\n\t\t    dirty = true;\n\t\t  } else if(selectedLayer) {\n\t\t  \tif(event.altKey == true) {\n\t\t\t\t\trotateLayer(selectedLayer,  delta[0] * 0.01);\n\t\t      scaleLayer(selectedLayer,  (delta[1] * -0.005) + 1.0);\n\t\t  \t} else {\n\t\t\t    for(var i = 0; i < selectedLayer.targetPoints.length; i++){\n\t\t\t      selectedLayer.targetPoints[i][0] += delta[0];\n\t\t\t      selectedLayer.targetPoints[i][1] += delta[1];\n\t\t\t    }\n\t\t\t  }\n\t\t    dirty = true;\n\t\t  }\n\t\t}\n\n\t  // update the transform and redraw if needed\n\t  if(dirty){\n\t    updateTransform();\n\t    draw();\n      if(autoSave){\n        saveSettings();\n      }\n      notifyChangeListener();\n\t  }\n\t};\n\n\tvar mouseMove = function(event) {\n\t  if(!configActive){\n\t    return;\n\t  }\n\n\t  event.preventDefault();\n\n\t  mouseDelta[0] = event.clientX - mousePosition[0];\n\t  mouseDelta[1] = event.clientY - mousePosition[1];\n\n\t  mousePosition[0] = event.clientX;\n\t  mousePosition[1] = event.clientY;\n\n\t  if(dragging) {\n\n\t    var scale = event.shiftKey ? 0.1 : 1;\n\t    \n\t    if(selectedPoint) {  \n\t      selectedPoint[0] += mouseDelta[0] * scale;\n\t      selectedPoint[1] += mouseDelta[1] * scale;\n\t    } else if(selectedLayer) {\n\t      \n\t      // Alt-drag to rotate and scale\n\t    \tif(event.altKey == true){\n\t\t      rotateLayer(selectedLayer,  mouseDelta[0] * (0.01 * scale));\n\t\t      scaleLayer(selectedLayer,  (mouseDelta[1] * (-0.005 * scale)) + 1.0);\n\t    \t} else {\n\t\t    \tfor(var i = 0; i < selectedLayer.targetPoints.length; i++){\n\t\t        selectedLayer.targetPoints[i][0] += mouseDelta[0] * scale;\n\t\t        selectedLayer.targetPoints[i][1] += mouseDelta[1] * scale;\n\t\t      }\t\n\t    \t}\n\t    }\n\n\t    updateTransform();\n      if(autoSave){\n        saveSettings();\n      }\n\t    draw();\n      notifyChangeListener();\n\n\t  } else {\n\t    var dirty = false;\n\n\t    canvas.style.cursor = 'default';\n\t    var mouseX = event.clientX;\n\t    var mouseY = event.clientY;\n\t    \n\t    var previousState = (hoveringPoint != null);\n\t    var previousLayer = (hoveringLayer != null);\n\n\t    hoveringPoint = null;\n\n\t    for(var i = 0; i < layers.length; i++) {\n\t      var layer = layers[i];\n\t      if(layer.visible){\n\t\t      for(var p = 0; p < layer.targetPoints.length; p++) {\n\t\t        var point = layer.targetPoints[p];\n\t\t        if(distanceTo(point[0], point[1], mouseX, mouseY) < selectionRadius) {\n\t\t          canvas.style.cursor = 'pointer';\n\t\t          hoveringPoint = point;\n\t\t          break;\n\t\t        }\n\t\t      }\n\t    \t}\n\t    }\n\n\t    hoveringLayer = null;\n\t    for(var i = 0; i < layers.length; i++) {\n\t      if(layers[i].visible && pointInLayer(mousePosition, layers[i])){\n\t        hoveringLayer = layers[i];\n\t        break;\n\t      }\n\t    }\n\n\t    if( showCrosshairs || \n\t        (previousState != (hoveringPoint != null)) || \n\t        (previousLayer != (hoveringLayer != null))\n\t      ) {\n\t      draw();\n\t    }\n\t  }\n\t};\n\n\tvar mouseUp = function(event) {\n\t  if(!configActive){\n\t    return;\n\t  }\n\t  event.preventDefault();\n\t  \n\t  dragging = false;\n\t};\n\n\tvar mouseDown = function(event) {\n\t  if(!configActive || showScreenBounds) {\n\t    return;\n\t  }\n\t  event.preventDefault();\n\n\t  hoveringPoint = null;\n\t  \n\t  if(hoveringLayer){\n\t    selectedLayer = hoveringLayer;\n\t    dragging = true;\n\t  } else {\n\t    selectedLayer = null;\n\t  }\n\n\t  selectedPoint = null;\n\n\t  var mouseX = event.clientX;\n\t  var mouseY = event.clientY;\n\n\t  mouseDownPoint[0] = mouseX;\n\t  mouseDownPoint[1] = mouseY;\n\n\t  for(var i = 0; i < layers.length; i++) {\n\t    var layer = layers[i];\n\t    for(var p = 0; p < layer.targetPoints.length; p++){\n\t      var point = layer.targetPoints[p];\n\t      if(distanceTo(point[0], point[1], mouseX, mouseY) < selectionRadius) {\n\t        selectedLayer = layer;\n\t        selectedPoint = point;\n\t        dragging = true;\n\t        dragOffset[0] = event.clientX - point[0];\n\t        dragOffset[1] = event.clientY - point[1];\n\t        //draw();\n\t        break;\n\t      }\n\t    }\n\t  }\n\t  draw();\n\t  return false;\n\t};\n\n\tvar addLayer = function(target, targetPoints) {\n\n\t  var element;\n\n\t  if(typeof(target) == 'string') {\n\t    element = document.getElementById(target);\n\t    if(!element) {\n\t      throw(\"Maptastic: No element found with id: \" + target);\n\t    }\n\t  } else if (target instanceof HTMLElement) {\n\t    element = target;\n\t  }\n\n    var exists = false;\n    for(var n = 0; n < layers.length; n++){\n      if(layers[n].element.id == element.id) {\n        layers[n].targetPoints = clonePoints(layout[i].targetPoints)\n        exists = true;\n      }\n    }\n\n\t  var offsetX = element.offsetLeft;\n\t  var offsetY = element.offsetTop;\n\n\t  element.style.position = 'fixed';\n\t  element.style.display = 'block';\n\t  element.style.top = '0px';\n\t  element.style.left = '0px';\n\t  element.style.padding = '0px';\n\t  element.style.margin = '0px';\n\n\t  var layer = {\n\t  \t'visible' : true,\n\t    'element' : element,\n\t    'width' : element.clientWidth,\n\t    'height' : element.clientHeight,\n\t    'sourcePoints' : [],\n\t    'targetPoints' : []\n\t  };\n\t  layer.sourcePoints.push( [0, 0], [layer.width, 0], [layer.width, layer.height], [0, layer.height]);\n\t  \n\t  if(targetPoints) {\n\t    layer.targetPoints = clonePoints(targetPoints);\n\t  } else {\n\t    layer.targetPoints.push( [0, 0], [layer.width, 0], [layer.width, layer.height], [0, layer.height]);  \n\t    for(var i = 0; i < layer.targetPoints.length; i++){\n\t      layer.targetPoints[i][0] += offsetX;\n\t      layer.targetPoints[i][1] += offsetY;\n\t    }\n\t  }\n\t  \n\t  layers.push(layer);\n\n\t  updateTransform();\n\t};\n\n  var saveSettings = function() {\n    localStorage.setItem(localStorageKey, JSON.stringify(getLayout(layers)));\n  };\n\n  var loadSettings = function() {\n    if(localStorage.getItem(localStorageKey)){\n      var data = JSON.parse(localStorage.getItem(localStorageKey));\n      \n      for(var i = 0; i < data.length; i++) {\n        for(var n = 0; n < layers.length; n++){\n          if(layers[n].element.id == data[i].id) {\n            layers[n].targetPoints = clonePoints(data[i].targetPoints);\n            layers[n].sourcePoints = clonePoints(data[i].sourcePoints);\n          }\n        }\n      }\n      updateTransform();\n    }\n  }\n\n\tvar updateTransform = function() {\n\t  var transform = [\"\", \"-webkit-\", \"-moz-\", \"-ms-\", \"-o-\"].reduce(function(p, v) { return v + \"transform\" in document.body.style ? v : p; }) + \"transform\";\n\t  for(var l = 0; l < layers.length; l++){\n\n\t    for (var a = [], b = [], i = 0, n = layers[l].sourcePoints.length; i < n; ++i) {\n\t      var s = layers[l].sourcePoints[i], t = layers[l].targetPoints[i];\n\t      a.push([s[0], s[1], 1, 0, 0, 0, -s[0] * t[0], -s[1] * t[0]]), b.push(t[0]);\n\t      a.push([0, 0, 0, s[0], s[1], 1, -s[0] * t[1], -s[1] * t[1]]), b.push(t[1]); \n\t    }\n\n\t    var X = solve(a, b, true);\n\t    var matrix = [\n\t      X[0], X[3], 0, X[6],\n\t      X[1], X[4], 0, X[7],\n\t        0,    0,  1,   0,\n\t      X[2], X[5], 0,   1\n\t    ];\n\n\t    layers[l].element.style[transform] = \"matrix3d(\" + matrix.join(',') + \")\";\n\t    layers[l].element.style[transform + \"-origin\"] = \"0px 0px 0px\";\n\t  }\n\t}\n\n\tvar setConfigEnabled = function(enabled){\n\t  configActive = enabled;\n\t  canvas.style.display = enabled ? 'block' : 'none';\n\n\t  if(!enabled) {\n\t    selectedPoint = null;\n\t    selectedLayer = null;\n\t    dragging = false;\n\t    showScreenBounds = false;\n\t  } else {\n\t    draw();\n\t  }\n\t};\n\n\tvar clonePoints = function(points){\n\t  var clone = [];\n\t  for(var p = 0; p < points.length; p++){\n\t    clone.push( points[p].slice(0,2) );\n\t  }\n\t  return clone;\n\t};\n\n\tvar resize = function() {\n\t  canvas.width = window.innerWidth;\n\t  canvas.height = window.innerHeight;\n\n\t  draw();\n\t};\n\n  var getLayout = function() {\n    var layout = [];\n    for(var i = 0; i < layers.length; i++) {\n      layout.push({\n        'id': layers[i].element.id,\n        'targetPoints': clonePoints(layers[i].targetPoints),\n        'sourcePoints': clonePoints(layers[i].sourcePoints)\n      });\n    }\n    return layout;\n  }\n\n  var setLayout = function(layout){\n    for(var i = 0; i < layout.length; i++) {\n      var exists = false;\n      for(var n = 0; n < layers.length; n++){\n        if(layers[n].element.id == layout[i].id) {\n          console.log(\"Setting points.\");\n          layers[n].targetPoints = clonePoints(layout[i].targetPoints);\n          layers[n].sourcePoints = clonePoints(layout[i].sourcePoints);\n          exists = true;\n        }\n      }\n\n      if(!exists) {\n        var element = document.getElementById(layout[i].id);\n        if(element) {\n          addLayer(element, layout[i].targetPoints);\n        } else {\n          console.log(\"Maptastic: Can't find element: \" + layout[i].id);\n        }\n      } else {\n        console.log(\"Maptastic: Element '\" + layout[i].id + \"' is already mapped.\");\n      }\n    }\n    updateTransform();\n    draw();\n  }\n\n  init();\n\n  // if the config was just an element or string, interpret it as a layer to add.\n\n  for(var i = 0; i < layerList.length; i++){\n    if((layerList[i] instanceof HTMLElement) || (typeof(layerList[i]) === 'string')) {\n      addLayer(layerList[i]);\n    }\n  }\n\n  for(var i = 0; i < arguments.length; i++){\n    if((arguments[i] instanceof HTMLElement) || (typeof(arguments[i]) === 'string')) {\n      addLayer(arguments[i]);\n    }\n  }\n\n  if(autoLoad){\n    loadSettings();\n  }\n\n  return {\n  \t'getLayout' : function() {\n\t\t  return getLayout();\n\t\t},\n\t\t'setLayout' : function(layout) {\n\t\t\tsetLayout(layout);\n\t\t},\n\t\t'setConfigEnabled' : function(enabled){\n\t\t\tsetConfigEnabled(enabled);\n\t\t},\n\t\t'addLayer' : function(target, targetPoints){\n\t\t\taddLayer(target, targetPoints);\n\t\t}\n  }\n}\n\n/**\n * AMD Loader to export\n */\nif (typeof define === \"function\" && define.amd) {\n\tdefine([\"maptastic\"], function() {\n\t\t\"use strict\";\n\t\treturn Maptastic;\n\t});\n} else if (typeof module === \"object\" && module.exports) {\n\tmodule.exports = Maptastic;\n} else {\n\twindow.Maptastic = Maptastic;\n}\n},{\"numeric\":1}]},{},[2]);\n"]}